
üè∏ Cloud Racket CDK Deployment
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Environment: dev
Region: ap-southeast-1
Account: 556797196698
Stack: CloudRacket-dev-Serverless-Stack
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Description: Cloud Racket Platform - DEV Serverless Environment
Resources:
  DynamoDBCourtsTable294C7023:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: courtId
          AttributeType: S
        - AttributeName: ownerId
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: ownerId-index
          KeySchema:
            - AttributeName: ownerId
              KeyType: HASH
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: courtId
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      TableName: dev-courts
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/DynamoDB/CourtsTable/Resource
  DynamoDBAvailabilityTableAC1BA3AA:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: availabilityId
          AttributeType: S
        - AttributeName: courtId
          AttributeType: S
        - AttributeName: date
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: courtId-index
          KeySchema:
            - AttributeName: courtId
              KeyType: HASH
            - AttributeName: date
              KeyType: RANGE
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: availabilityId
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      TableName: dev-availability
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/DynamoDB/AvailabilityTable/Resource
  DynamoDBBookingsTable506B026C:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: bookingId
          AttributeType: S
        - AttributeName: userId
          AttributeType: S
        - AttributeName: createdAt
          AttributeType: S
        - AttributeName: courtId
          AttributeType: S
        - AttributeName: date
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: userId-index
          KeySchema:
            - AttributeName: userId
              KeyType: HASH
            - AttributeName: createdAt
              KeyType: RANGE
          Projection:
            ProjectionType: ALL
        - IndexName: courtId-index
          KeySchema:
            - AttributeName: courtId
              KeyType: HASH
            - AttributeName: date
              KeyType: RANGE
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: bookingId
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      StreamSpecification:
        StreamViewType: NEW_AND_OLD_IMAGES
      TableName: dev-bookings
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/DynamoDB/BookingsTable/Resource
  DynamoDBReviewsTableB9A998F8:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: reviewId
          AttributeType: S
        - AttributeName: userId
          AttributeType: S
        - AttributeName: courtId
          AttributeType: S
        - AttributeName: createdAt
          AttributeType: S
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: userId-index
          KeySchema:
            - AttributeName: userId
              KeyType: HASH
          Projection:
            ProjectionType: ALL
        - IndexName: courtId-index
          KeySchema:
            - AttributeName: courtId
              KeyType: HASH
            - AttributeName: createdAt
              KeyType: RANGE
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: reviewId
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      StreamSpecification:
        StreamViewType: NEW_AND_OLD_IMAGES
      TableName: dev-reviews
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/DynamoDB/ReviewsTable/Resource
  DynamoDBInteractionsTable54D7777B:
    Type: AWS::DynamoDB::Table
    Properties:
      AttributeDefinitions:
        - AttributeName: interactionId
          AttributeType: S
        - AttributeName: userId
          AttributeType: S
        - AttributeName: timestamp
          AttributeType: "N"
      BillingMode: PAY_PER_REQUEST
      GlobalSecondaryIndexes:
        - IndexName: userId-index
          KeySchema:
            - AttributeName: userId
              KeyType: HASH
            - AttributeName: timestamp
              KeyType: RANGE
          Projection:
            ProjectionType: ALL
      KeySchema:
        - AttributeName: interactionId
          KeyType: HASH
      SSESpecification:
        SSEEnabled: true
      TableName: dev-interactions
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/DynamoDB/InteractionsTable/Resource
  S3ImagesBucket871BE768:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      BucketName: dev-cloud-racket-images
      CorsConfiguration:
        CorsRules:
          - AllowedHeaders:
              - "*"
            AllowedMethods:
              - GET
              - PUT
              - POST
            AllowedOrigins:
              - "*"
            MaxAge: 3000
      LifecycleConfiguration:
        Rules:
          - Id: TransitionToGlacier
            Status: Enabled
            Transitions:
              - StorageClass: GLACIER
                TransitionInDays: 90
      PublicAccessBlockConfiguration:
        BlockPublicAcls: false
        BlockPublicPolicy: false
        IgnorePublicAcls: false
        RestrictPublicBuckets: false
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: aws-cdk:auto-delete-objects
          Value: "true"
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/S3/ImagesBucket/Resource
  S3ImagesBucketPolicy2660B400:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: S3ImagesBucket871BE768
      PolicyDocument:
        Statement:
          - Action: s3:GetObject
            Effect: Allow
            Principal:
              AWS: "*"
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - S3ImagesBucket871BE768
                      - Arn
                  - /*
          - Action:
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:List*
              - s3:PutBucketPolicy
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - S3ImagesBucket871BE768
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - S3ImagesBucket871BE768
                        - Arn
                    - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/S3/ImagesBucket/Policy/Resource
  S3ImagesBucketAutoDeleteObjectsCustomResourceE51CED8B:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: S3ImagesBucket871BE768
    DependsOn:
      - S3ImagesBucketPolicy2660B400
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/S3/ImagesBucket/AutoDeleteObjectsCustomResource/Default
  S3ReportsBucketEF7875E4:
    Type: AWS::S3::Bucket
    Properties:
      BucketEncryption:
        ServerSideEncryptionConfiguration:
          - ServerSideEncryptionByDefault:
              SSEAlgorithm: AES256
      BucketName: dev-cloud-racket-reports
      LifecycleConfiguration:
        Rules:
          - ExpirationInDays: 365
            Id: DeleteOldReports
            Status: Enabled
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: aws-cdk:auto-delete-objects
          Value: "true"
        - Key: CostCenter
          Value: cloudracket-dev
      VersioningConfiguration:
        Status: Enabled
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/S3/ReportsBucket/Resource
  S3ReportsBucketPolicy79F7721A:
    Type: AWS::S3::BucketPolicy
    Properties:
      Bucket:
        Ref: S3ReportsBucketEF7875E4
      PolicyDocument:
        Statement:
          - Action:
              - s3:DeleteObject*
              - s3:GetBucket*
              - s3:List*
              - s3:PutBucketPolicy
            Effect: Allow
            Principal:
              AWS:
                Fn::GetAtt:
                  - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
                  - Arn
            Resource:
              - Fn::GetAtt:
                  - S3ReportsBucketEF7875E4
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - S3ReportsBucketEF7875E4
                        - Arn
                    - /*
        Version: "2012-10-17"
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/S3/ReportsBucket/Policy/Resource
  S3ReportsBucketAutoDeleteObjectsCustomResourceEFE4FBD0:
    Type: Custom::S3AutoDeleteObjects
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F
          - Arn
      BucketName:
        Ref: S3ReportsBucketEF7875E4
    DependsOn:
      - S3ReportsBucketPolicy79F7721A
    UpdateReplacePolicy: Delete
    DeletionPolicy: Delete
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/S3/ReportsBucket/AutoDeleteObjectsCustomResource/Default
  CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Version: "2012-10-17"
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
      ManagedPolicyArns:
        - Fn::Sub: arn:${AWS::Partition}:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role
  CustomS3AutoDeleteObjectsCustomResourceProviderHandler9D90184F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6.zip
      Timeout: 900
      MemorySize: 128
      Handler: index.handler
      Role:
        Fn::GetAtt:
          - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
          - Arn
      Runtime: nodejs22.x
      Description:
        Fn::Join:
          - ""
          - - "Lambda function for auto-deleting objects in "
            - Ref: S3ImagesBucket871BE768
            - " S3 bucket."
    DependsOn:
      - CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler
      aws:asset:path: asset.faa95a81ae7d7373f3e1f242268f904eb748d8d0fdd306e8a6fe515a1905a7d6
      aws:asset:property: Code
  CognitoUserPool279BBD48:
    Type: AWS::Cognito::UserPool
    Properties:
      AccountRecoverySetting:
        RecoveryMechanisms:
          - Name: verified_email
            Priority: 1
      AdminCreateUserConfig:
        AllowAdminCreateUserOnly: false
      AutoVerifiedAttributes:
        - email
      EmailVerificationMessage: The verification code to your new account is {####}
      EmailVerificationSubject: Verify your new account
      Policies:
        PasswordPolicy:
          MinimumLength: 8
          RequireLowercase: true
          RequireNumbers: true
          RequireSymbols: true
          RequireUppercase: true
      Schema:
        - Mutable: true
          Name: email
          Required: true
        - Mutable: true
          Name: name
          Required: true
        - Mutable: true
          Name: phone_number
          Required: false
        - AttributeDataType: String
          Mutable: true
          Name: role
          StringAttributeConstraints:
            MaxLength: "20"
            MinLength: "1"
      SmsVerificationMessage: The verification code to your new account is {####}
      UserPoolName: dev-cloud-racket-users
      UserPoolTags:
        Application: CloudRacketPlatform
        CostCenter: cloudracket-dev
      UsernameAttributes:
        - email
      VerificationMessageTemplate:
        DefaultEmailOption: CONFIRM_WITH_CODE
        EmailMessage: The verification code to your new account is {####}
        EmailSubject: Verify your new account
        SmsMessage: The verification code to your new account is {####}
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Cognito/UserPool/Resource
  CognitoUserPoolAppClient4B964922:
    Type: AWS::Cognito::UserPoolClient
    Properties:
      AccessTokenValidity: 1440
      AllowedOAuthFlows:
        - code
      AllowedOAuthFlowsUserPoolClient: true
      AllowedOAuthScopes:
        - email
        - openid
        - profile
      CallbackURLs:
        - http://localhost:3000/callback
        - https://dev.cloudracket.com/callback
      ClientName: dev-cloud-racket-client
      ExplicitAuthFlows:
        - ALLOW_USER_PASSWORD_AUTH
        - ALLOW_USER_SRP_AUTH
        - ALLOW_REFRESH_TOKEN_AUTH
      IdTokenValidity: 1440
      LogoutURLs:
        - http://localhost:3000
        - https://dev.cloudracket.com
      PreventUserExistenceErrors: ENABLED
      RefreshTokenValidity: 43200
      SupportedIdentityProviders:
        - COGNITO
      TokenValidityUnits:
        AccessToken: minutes
        IdToken: minutes
        RefreshToken: minutes
      UserPoolId:
        Ref: CognitoUserPool279BBD48
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Cognito/UserPool/AppClient/Resource
  CognitoUsersGroup3A448E17:
    Type: AWS::Cognito::UserPoolGroup
    Properties:
      Description: Regular users who book courts
      GroupName: Users
      Precedence: 3
      UserPoolId:
        Ref: CognitoUserPool279BBD48
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Cognito/UsersGroup
  CognitoCourtOwnersGroupDDAE966B:
    Type: AWS::Cognito::UserPoolGroup
    Properties:
      Description: Court owners who manage courts
      GroupName: CourtOwners
      Precedence: 2
      UserPoolId:
        Ref: CognitoUserPool279BBD48
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Cognito/CourtOwnersGroup
  CognitoAdminsGroup495BB713:
    Type: AWS::Cognito::UserPoolGroup
    Properties:
      Description: Platform administrators
      GroupName: Admins
      Precedence: 1
      UserPoolId:
        Ref: CognitoUserPool279BBD48
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Cognito/AdminsGroup
  SchedulerSchedulerGroup28A73C29:
    Type: AWS::Scheduler::ScheduleGroup
    Properties:
      Name: dev-cloud-racket-schedules
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Scheduler/SchedulerGroup
  SchedulerSchedulerRole647976BE:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: scheduler.amazonaws.com
        Version: "2012-10-17"
      Description: IAM role for EventBridge Scheduler to invoke Lambda functions
      RoleName: dev-cloud-racket-scheduler-role
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Scheduler/SchedulerRole/Resource
  SchedulerSchedulerRoleDefaultPolicy5C9DA2B9:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action: lambda:InvokeFunction
            Effect: Allow
            Resource:
              - arn:aws:lambda:ap-southeast-1:556797196698:function:dev-*
              - Fn::GetAtt:
                  - LambdabookingReminderFFD341FE
                  - Arn
              - Fn::GetAtt:
                  - LambdacleanupBDE07DDF
                  - Arn
              - Fn::GetAtt:
                  - LambdamonthlyReportB50DF0CE
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - LambdabookingReminderFFD341FE
                        - Arn
                    - :*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - LambdacleanupBDE07DDF
                        - Arn
                    - :*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - LambdamonthlyReportB50DF0CE
                        - Arn
                    - :*
        Version: "2012-10-17"
      PolicyName: SchedulerSchedulerRoleDefaultPolicy5C9DA2B9
      Roles:
        - Ref: SchedulerSchedulerRole647976BE
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Scheduler/SchedulerRole/DefaultPolicy/Resource
  SchedulerBookingReminderScheduleBB621E17:
    Type: AWS::Scheduler::Schedule
    Properties:
      Description: Send booking reminder emails every hour for bookings 24 hours away
      FlexibleTimeWindow:
        MaximumWindowInMinutes: 15
        Mode: FLEXIBLE
      GroupName: dev-cloud-racket-schedules
      Name: dev-booking-reminder
      ScheduleExpression: rate(1 hour)
      State: ENABLED
      Target:
        Arn:
          Fn::GetAtt:
            - LambdabookingReminderFFD341FE
            - Arn
        RetryPolicy:
          MaximumEventAgeInSeconds: 3600
          MaximumRetryAttempts: 2
        RoleArn:
          Fn::GetAtt:
            - SchedulerSchedulerRole647976BE
            - Arn
    DependsOn:
      - SchedulerSchedulerGroup28A73C29
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Scheduler/BookingReminderSchedule
  SchedulerDataCleanupSchedule11403A54:
    Type: AWS::Scheduler::Schedule
    Properties:
      Description: Clean up expired bookings and old data weekly on Sunday at 2 AM UTC
      FlexibleTimeWindow:
        MaximumWindowInMinutes: 30
        Mode: FLEXIBLE
      GroupName: dev-cloud-racket-schedules
      Name: dev-data-cleanup
      ScheduleExpression: cron(0 2 ? * SUN *)
      State: ENABLED
      Target:
        Arn:
          Fn::GetAtt:
            - LambdacleanupBDE07DDF
            - Arn
        RetryPolicy:
          MaximumEventAgeInSeconds: 7200
          MaximumRetryAttempts: 2
        RoleArn:
          Fn::GetAtt:
            - SchedulerSchedulerRole647976BE
            - Arn
    DependsOn:
      - SchedulerSchedulerGroup28A73C29
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Scheduler/DataCleanupSchedule
  SchedulerMonthlyReportSchedule6FFE9458:
    Type: AWS::Scheduler::Schedule
    Properties:
      Description: Generate monthly analytics report on the 1st day of each month at 4 AM UTC
      FlexibleTimeWindow:
        MaximumWindowInMinutes: 60
        Mode: FLEXIBLE
      GroupName: dev-cloud-racket-schedules
      Name: dev-monthly-report
      ScheduleExpression: cron(0 4 1 * ? *)
      State: ENABLED
      Target:
        Arn:
          Fn::GetAtt:
            - LambdamonthlyReportB50DF0CE
            - Arn
        RetryPolicy:
          MaximumEventAgeInSeconds: 14400
          MaximumRetryAttempts: 2
        RoleArn:
          Fn::GetAtt:
            - SchedulerSchedulerRole647976BE
            - Arn
    DependsOn:
      - SchedulerSchedulerGroup28A73C29
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Scheduler/MonthlyReportSchedule
  LocationPlaceIndexB4F1348E:
    Type: AWS::Location::PlaceIndex
    Properties:
      DataSource: Esri
      DataSourceConfiguration:
        IntendedUse: SingleUse
      Description: Place index for finding nearby badminton courts
      IndexName: dev-cloud-racket-places
      PricingPlan: RequestBasedUsage
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Location/PlaceIndex
  LambdaLayersCommonLayer5DEAE1F3:
    Type: AWS::Lambda::LayerVersion
    Properties:
      CompatibleRuntimes:
        - nodejs18.x
      Content:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 2cfc4c14acad320dc9548d186178048d7f38878a6c187d366fd4f4cf52b1c8b8.zip
      Description: "Common dependencies: AWS SDK v3, lodash, uuid, response helpers, logger"
      LayerName: dev-cloud-racket-common
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/LambdaLayers/CommonLayer/Resource
      aws:asset:path: asset.2cfc4c14acad320dc9548d186178048d7f38878a6c187d366fd4f4cf52b1c8b8
      aws:asset:is-bundled: false
      aws:asset:property: Content
  LambdaLayersUtilsLayerE0BC1407:
    Type: AWS::Lambda::LayerVersion
    Properties:
      CompatibleRuntimes:
        - nodejs18.x
      Content:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 586953c42ba56275fd2f4f83db0a2fa272787e2a9a05989e2069be0ba3116603.zip
      Description: "Utility functions: validation, formatting, error handling, pagination, geo utils"
      LayerName: dev-cloud-racket-utils
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/LambdaLayers/UtilsLayer/Resource
      aws:asset:path: asset.586953c42ba56275fd2f4f83db0a2fa272787e2a9a05989e2069be0ba3116603
      aws:asset:is-bundled: false
      aws:asset:property: Content
  LambdaregisterServiceRole2B6167E6:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/register/ServiceRole/Resource
  LambdaregisterServiceRoleDefaultPolicy942F3B98:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - cognito-idp:AdminAddUserToGroup
              - cognito-idp:AdminCreateUser
              - cognito-idp:AdminSetUserPassword
              - cognito-idp:AdminUpdateUserAttributes
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - CognitoUserPool279BBD48
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdaregisterServiceRoleDefaultPolicy942F3B98
      Roles:
        - Ref: LambdaregisterServiceRole2B6167E6
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/register/ServiceRole/DefaultPolicy/Resource
  Lambdaregister21999CBE:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 1a0bb740562c8d2469a2c2c5ac33231cbc5bceea0076b7b0f4a7a7e00d61b23d.zip
      Description: User registration handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-register
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdaregisterServiceRole2B6167E6
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdaregisterServiceRoleDefaultPolicy942F3B98
      - LambdaregisterServiceRole2B6167E6
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/register/Resource
      aws:asset:path: asset.1a0bb740562c8d2469a2c2c5ac33231cbc5bceea0076b7b0f4a7a7e00d61b23d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdaregisterLogRetention5822CC71:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: Lambdaregister21999CBE
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/register/LogRetention/Resource
  LambdaloginServiceRole6A6356E3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/login/ServiceRole/Resource
  LambdaloginServiceRoleDefaultPolicyEBA5F1C4:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - cognito-idp:AdminGetUser
              - cognito-idp:AdminInitiateAuth
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - CognitoUserPool279BBD48
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdaloginServiceRoleDefaultPolicyEBA5F1C4
      Roles:
        - Ref: LambdaloginServiceRole6A6356E3
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/login/ServiceRole/DefaultPolicy/Resource
  Lambdalogin6D5CF434:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 52eddc5ee5045db1bfb839517ccb5b430c3a584c1abe80c5398fc5e9ee45a6b6.zip
      Description: User login handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-login
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdaloginServiceRole6A6356E3
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdaloginServiceRoleDefaultPolicyEBA5F1C4
      - LambdaloginServiceRole6A6356E3
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/login/Resource
      aws:asset:path: asset.52eddc5ee5045db1bfb839517ccb5b430c3a584c1abe80c5398fc5e9ee45a6b6
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdaloginLogRetention533098AB:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: Lambdalogin6D5CF434
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/login/LogRetention/Resource
  LambdarefreshTokenServiceRoleFB0331C5:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/refreshToken/ServiceRole/Resource
  LambdarefreshTokenServiceRoleDefaultPolicy6B9ECFB4:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: cognito-idp:AdminInitiateAuth
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - CognitoUserPool279BBD48
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdarefreshTokenServiceRoleDefaultPolicy6B9ECFB4
      Roles:
        - Ref: LambdarefreshTokenServiceRoleFB0331C5
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/refreshToken/ServiceRole/DefaultPolicy/Resource
  LambdarefreshToken4EDF1FC1:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: c329286a7011f5ef0a4e3a0ad9829111146fd799dba31a1767b6cc2e2894e130.zip
      Description: Token refresh handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-refreshToken
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdarefreshTokenServiceRoleFB0331C5
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdarefreshTokenServiceRoleDefaultPolicy6B9ECFB4
      - LambdarefreshTokenServiceRoleFB0331C5
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/refreshToken/Resource
      aws:asset:path: asset.c329286a7011f5ef0a4e3a0ad9829111146fd799dba31a1767b6cc2e2894e130
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdarefreshTokenLogRetention5D59A3CD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdarefreshToken4EDF1FC1
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/refreshToken/LogRetention/Resource
  LambdacreateCourtServiceRole4F590F18:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createCourt/ServiceRole/Resource
  LambdacreateCourtServiceRoleDefaultPolicy6A474E15:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:PutItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBCourtsTable294C7023
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdacreateCourtServiceRoleDefaultPolicy6A474E15
      Roles:
        - Ref: LambdacreateCourtServiceRole4F590F18
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createCourt/ServiceRole/DefaultPolicy/Resource
  LambdacreateCourtE33EB326:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: abdd115798d40c9a20039ac16b91fdc81006e013fdecd8af53ef2b09d8716b59.zip
      Description: Create new court handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-createCourt
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdacreateCourtServiceRole4F590F18
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdacreateCourtServiceRoleDefaultPolicy6A474E15
      - LambdacreateCourtServiceRole4F590F18
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createCourt/Resource
      aws:asset:path: asset.abdd115798d40c9a20039ac16b91fdc81006e013fdecd8af53ef2b09d8716b59
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdacreateCourtLogRetentionD408DEC8:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdacreateCourtE33EB326
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createCourt/LogRetention/Resource
  LambdagetCourtServiceRoleD3F6E017:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getCourt/ServiceRole/Resource
  LambdagetCourtServiceRoleDefaultPolicy235A94F5:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:GetItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBCourtsTable294C7023
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdagetCourtServiceRoleDefaultPolicy235A94F5
      Roles:
        - Ref: LambdagetCourtServiceRoleD3F6E017
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getCourt/ServiceRole/DefaultPolicy/Resource
  LambdagetCourtE5BD895A:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: defdbb3f5f224dde0622d476f00880df7c95c39e1437a29123f67c6198eac70a.zip
      Description: Get court details handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getCourt
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetCourtServiceRoleD3F6E017
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetCourtServiceRoleDefaultPolicy235A94F5
      - LambdagetCourtServiceRoleD3F6E017
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getCourt/Resource
      aws:asset:path: asset.defdbb3f5f224dde0622d476f00880df7c95c39e1437a29123f67c6198eac70a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetCourtLogRetention2E7EAD51:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetCourtE5BD895A
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getCourt/LogRetention/Resource
  LambdaupdateCourtServiceRole0B62DE51:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateCourt/ServiceRole/Resource
  LambdaupdateCourtServiceRoleDefaultPolicy8AC70EC6:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:GetItem
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBCourtsTable294C7023
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdaupdateCourtServiceRoleDefaultPolicy8AC70EC6
      Roles:
        - Ref: LambdaupdateCourtServiceRole0B62DE51
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateCourt/ServiceRole/DefaultPolicy/Resource
  LambdaupdateCourt7383893F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 960f76635a3e947797533b7506081acaa4862cfa1429f50f4994c555bfc7d4de.zip
      Description: Update court handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-updateCourt
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdaupdateCourtServiceRole0B62DE51
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdaupdateCourtServiceRoleDefaultPolicy8AC70EC6
      - LambdaupdateCourtServiceRole0B62DE51
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateCourt/Resource
      aws:asset:path: asset.960f76635a3e947797533b7506081acaa4862cfa1429f50f4994c555bfc7d4de
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdaupdateCourtLogRetention45947FE6:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdaupdateCourt7383893F
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateCourt/LogRetention/Resource
  LambdadeleteCourtServiceRole103D09E7:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteCourt/ServiceRole/Resource
  LambdadeleteCourtServiceRoleDefaultPolicyE2BB46A8:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:DeleteItem
              - dynamodb:GetItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBCourtsTable294C7023
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdadeleteCourtServiceRoleDefaultPolicyE2BB46A8
      Roles:
        - Ref: LambdadeleteCourtServiceRole103D09E7
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteCourt/ServiceRole/DefaultPolicy/Resource
  LambdadeleteCourt5423559F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: e3dee4e580ddd34cb8514e33f6b4e4d8b520c3abf14868e3fe5b82de2418398a.zip
      Description: Delete court handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-deleteCourt
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdadeleteCourtServiceRole103D09E7
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdadeleteCourtServiceRoleDefaultPolicyE2BB46A8
      - LambdadeleteCourtServiceRole103D09E7
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteCourt/Resource
      aws:asset:path: asset.e3dee4e580ddd34cb8514e33f6b4e4d8b520c3abf14868e3fe5b82de2418398a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdadeleteCourtLogRetentionCB2E4412:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdadeleteCourt5423559F
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteCourt/LogRetention/Resource
  LambdasearchCourtsServiceRole36131FBA:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/searchCourts/ServiceRole/Resource
  LambdasearchCourtsServiceRoleDefaultPolicyE877025B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBCourtsTable294C7023
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdasearchCourtsServiceRoleDefaultPolicyE877025B
      Roles:
        - Ref: LambdasearchCourtsServiceRole36131FBA
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/searchCourts/ServiceRole/DefaultPolicy/Resource
  LambdasearchCourtsA26B8708:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 3ccebd7d38e748eb0eba5730e4b160e3b325504b768c8aa5dd70c09d614eae6f.zip
      Description: Search courts handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-searchCourts
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdasearchCourtsServiceRole36131FBA
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdasearchCourtsServiceRoleDefaultPolicyE877025B
      - LambdasearchCourtsServiceRole36131FBA
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/searchCourts/Resource
      aws:asset:path: asset.3ccebd7d38e748eb0eba5730e4b160e3b325504b768c8aa5dd70c09d614eae6f
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdasearchCourtsLogRetention6C83DA59:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdasearchCourtsA26B8708
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/searchCourts/LogRetention/Resource
  LambdanearbyCourtsServiceRole7044DBF3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/nearbyCourts/ServiceRole/Resource
  LambdanearbyCourtsServiceRoleDefaultPolicy461F496D:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBCourtsTable294C7023
                        - Arn
                    - /index/*
          - Action:
              - geo:SearchPlaceIndexForPosition
              - geo:SearchPlaceIndexForText
            Effect: Allow
            Resource: arn:aws:geo:ap-southeast-1:556797196698:place-index/dev-cloud-racket-places
        Version: "2012-10-17"
      PolicyName: LambdanearbyCourtsServiceRoleDefaultPolicy461F496D
      Roles:
        - Ref: LambdanearbyCourtsServiceRole7044DBF3
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/nearbyCourts/ServiceRole/DefaultPolicy/Resource
  LambdanearbyCourts450C3A7F:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: b9a9fcd230a8aca325e9750ec9c6c63bf3ecf3aa656ed8f755a4ff0f673dd4f0.zip
      Description: Find nearby courts handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-nearbyCourts
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdanearbyCourtsServiceRole7044DBF3
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdanearbyCourtsServiceRoleDefaultPolicy461F496D
      - LambdanearbyCourtsServiceRole7044DBF3
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/nearbyCourts/Resource
      aws:asset:path: asset.b9a9fcd230a8aca325e9750ec9c6c63bf3ecf3aa656ed8f755a4ff0f673dd4f0
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdanearbyCourtsLogRetention3FB6C73C:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdanearbyCourts450C3A7F
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/nearbyCourts/LogRetention/Resource
  LambdauploadCourtImageServiceRoleB3303EC2:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/uploadCourtImage/ServiceRole/Resource
  LambdauploadCourtImageServiceRoleDefaultPolicyD8C5C014:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - s3:PutObject
              - s3:PutObjectAcl
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - S3ImagesBucket871BE768
                      - Arn
                  - /*
          - Action: dynamodb:UpdateItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBCourtsTable294C7023
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdauploadCourtImageServiceRoleDefaultPolicyD8C5C014
      Roles:
        - Ref: LambdauploadCourtImageServiceRoleB3303EC2
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/uploadCourtImage/ServiceRole/DefaultPolicy/Resource
  LambdauploadCourtImageCD700EED:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 43800ff7c39eb3f05684493114ceed7f0d4bf7b78b2596c5d56703d746fefedb.zip
      Description: Upload court image handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-uploadCourtImage
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 512
      Role:
        Fn::GetAtt:
          - LambdauploadCourtImageServiceRoleB3303EC2
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdauploadCourtImageServiceRoleDefaultPolicyD8C5C014
      - LambdauploadCourtImageServiceRoleB3303EC2
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/uploadCourtImage/Resource
      aws:asset:path: asset.43800ff7c39eb3f05684493114ceed7f0d4bf7b78b2596c5d56703d746fefedb
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdauploadCourtImageLogRetention5DB5E806:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdauploadCourtImageCD700EED
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/uploadCourtImage/LogRetention/Resource
  LambdagetAvailabilityServiceRoleD4C40E4D:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getAvailability/ServiceRole/Resource
  LambdagetAvailabilityServiceRoleDefaultPolicy1BEC30BF:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:Query
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBAvailabilityTableAC1BA3AA
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBAvailabilityTableAC1BA3AA
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdagetAvailabilityServiceRoleDefaultPolicy1BEC30BF
      Roles:
        - Ref: LambdagetAvailabilityServiceRoleD4C40E4D
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getAvailability/ServiceRole/DefaultPolicy/Resource
  LambdagetAvailability418DB8CA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: a9f2957f3e84d7e4a8846fe25663cf577e5b136414d1ccd9a3c8e03dceb09296.zip
      Description: Get court availability handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getAvailability
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetAvailabilityServiceRoleD4C40E4D
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetAvailabilityServiceRoleDefaultPolicy1BEC30BF
      - LambdagetAvailabilityServiceRoleD4C40E4D
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getAvailability/Resource
      aws:asset:path: asset.a9f2957f3e84d7e4a8846fe25663cf577e5b136414d1ccd9a3c8e03dceb09296
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetAvailabilityLogRetention1F870936:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetAvailability418DB8CA
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getAvailability/LogRetention/Resource
  LambdaupdateAvailabilityServiceRole94F6A42F:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateAvailability/ServiceRole/Resource
  LambdaupdateAvailabilityServiceRoleDefaultPolicyD18C8677:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:DeleteItem
              - dynamodb:PutItem
              - dynamodb:Query
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBAvailabilityTableAC1BA3AA
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBAvailabilityTableAC1BA3AA
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdaupdateAvailabilityServiceRoleDefaultPolicyD18C8677
      Roles:
        - Ref: LambdaupdateAvailabilityServiceRole94F6A42F
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateAvailability/ServiceRole/DefaultPolicy/Resource
  LambdaupdateAvailability3D4E3CE0:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 634420a201d8ff574c75df92b06f03838396f85dca6bff20b0a1d41b105a513b.zip
      Description: Update court availability handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-updateAvailability
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdaupdateAvailabilityServiceRole94F6A42F
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdaupdateAvailabilityServiceRoleDefaultPolicyD18C8677
      - LambdaupdateAvailabilityServiceRole94F6A42F
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateAvailability/Resource
      aws:asset:path: asset.634420a201d8ff574c75df92b06f03838396f85dca6bff20b0a1d41b105a513b
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdaupdateAvailabilityLogRetentionD6DF376F:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdaupdateAvailability3D4E3CE0
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateAvailability/LogRetention/Resource
  LambdacreateBookingServiceRole07C2B22B:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createBooking/ServiceRole/Resource
  LambdacreateBookingServiceRoleDefaultPolicy9B13B8B4:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:GetItem
              - dynamodb:PutItem
              - dynamodb:Query
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBAvailabilityTableAC1BA3AA
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBAvailabilityTableAC1BA3AA
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
          - Action:
              - ses:SendEmail
              - ses:SendTemplatedEmail
            Effect: Allow
            Resource:
              - arn:aws:ses:*:*:identity/*
              - arn:aws:ses:ap-southeast-1:556797196698:identity/anhlehoangg2003@gmail.com
        Version: "2012-10-17"
      PolicyName: LambdacreateBookingServiceRoleDefaultPolicy9B13B8B4
      Roles:
        - Ref: LambdacreateBookingServiceRole07C2B22B
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createBooking/ServiceRole/DefaultPolicy/Resource
  LambdacreateBooking8730EAFC:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: bb3504b159b56c543ac511f63fc6e4246cab435580d342ff6f09e337b850b09d.zip
      Description: Create booking handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-createBooking
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdacreateBookingServiceRole07C2B22B
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdacreateBookingServiceRoleDefaultPolicy9B13B8B4
      - LambdacreateBookingServiceRole07C2B22B
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createBooking/Resource
      aws:asset:path: asset.bb3504b159b56c543ac511f63fc6e4246cab435580d342ff6f09e337b850b09d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdacreateBookingLogRetentionA0F9F444:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdacreateBooking8730EAFC
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createBooking/LogRetention/Resource
  LambdagetBookingServiceRole3BA9E3EC:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBooking/ServiceRole/Resource
  LambdagetBookingServiceRoleDefaultPolicy5BD6F037:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:GetItem
              - dynamodb:Query
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdagetBookingServiceRoleDefaultPolicy5BD6F037
      Roles:
        - Ref: LambdagetBookingServiceRole3BA9E3EC
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBooking/ServiceRole/DefaultPolicy/Resource
  LambdagetBooking91897687:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 6049bd3a796914faff41729ba727649cff4892104c7931201e4a30e1d88d3805.zip
      Description: Get booking details handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getBooking
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetBookingServiceRole3BA9E3EC
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetBookingServiceRoleDefaultPolicy5BD6F037
      - LambdagetBookingServiceRole3BA9E3EC
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBooking/Resource
      aws:asset:path: asset.6049bd3a796914faff41729ba727649cff4892104c7931201e4a30e1d88d3805
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetBookingLogRetention4636D695:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetBooking91897687
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBooking/LogRetention/Resource
  LambdacancelBookingServiceRoleA71A0FF7:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cancelBooking/ServiceRole/Resource
  LambdacancelBookingServiceRoleDefaultPolicy19B2BD84:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:GetItem
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBAvailabilityTableAC1BA3AA
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
          - Action:
              - ses:SendEmail
              - ses:SendTemplatedEmail
            Effect: Allow
            Resource:
              - arn:aws:ses:*:*:identity/*
              - arn:aws:ses:ap-southeast-1:556797196698:identity/anhlehoangg2003@gmail.com
        Version: "2012-10-17"
      PolicyName: LambdacancelBookingServiceRoleDefaultPolicy19B2BD84
      Roles:
        - Ref: LambdacancelBookingServiceRoleA71A0FF7
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cancelBooking/ServiceRole/DefaultPolicy/Resource
  LambdacancelBookingB3204B7B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: f3e6825dde7f2b9bb58917eebe32ee1972274bad273f556038db1ab037fa3b4a.zip
      Description: Cancel booking handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-cancelBooking
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdacancelBookingServiceRoleA71A0FF7
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdacancelBookingServiceRoleDefaultPolicy19B2BD84
      - LambdacancelBookingServiceRoleA71A0FF7
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cancelBooking/Resource
      aws:asset:path: asset.f3e6825dde7f2b9bb58917eebe32ee1972274bad273f556038db1ab037fa3b4a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdacancelBookingLogRetention0EA516A5:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdacancelBookingB3204B7B
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cancelBooking/LogRetention/Resource
  LambdalistBookingsServiceRole7153334C:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listBookings/ServiceRole/Resource
  LambdalistBookingsServiceRoleDefaultPolicy3948EB2B:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:Query
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdalistBookingsServiceRoleDefaultPolicy3948EB2B
      Roles:
        - Ref: LambdalistBookingsServiceRole7153334C
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listBookings/ServiceRole/DefaultPolicy/Resource
  LambdalistBookings77010DE9:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 22714176bd7eabadb356acc0b601891ee18590da1f0df3b0d0c4c17ec5265aea.zip
      Description: List user bookings handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-listBookings
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdalistBookingsServiceRole7153334C
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdalistBookingsServiceRoleDefaultPolicy3948EB2B
      - LambdalistBookingsServiceRole7153334C
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listBookings/Resource
      aws:asset:path: asset.22714176bd7eabadb356acc0b601891ee18590da1f0df3b0d0c4c17ec5265aea
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdalistBookingsLogRetention5DC4F829:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdalistBookings77010DE9
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listBookings/LogRetention/Resource
  LambdabookingConfirmationServiceRole2776BFF0:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingConfirmation/ServiceRole/Resource
  LambdabookingConfirmationServiceRoleDefaultPolicy61CF6525:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:ListStreams
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:GetItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBCourtsTable294C7023
                - Arn
          - Action:
              - ses:SendEmail
              - ses:SendTemplatedEmail
            Effect: Allow
            Resource:
              - arn:aws:ses:*:*:identity/*
              - arn:aws:ses:ap-southeast-1:556797196698:identity/anhlehoangg2003@gmail.com
          - Action:
              - dynamodb:DescribeStream
              - dynamodb:GetRecords
              - dynamodb:GetShardIterator
              - dynamodb:ListStreams
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBBookingsTable506B026C
                - StreamArn
        Version: "2012-10-17"
      PolicyName: LambdabookingConfirmationServiceRoleDefaultPolicy61CF6525
      Roles:
        - Ref: LambdabookingConfirmationServiceRole2776BFF0
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingConfirmation/ServiceRole/DefaultPolicy/Resource
  LambdabookingConfirmation9D4B15F9:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: de731bbb83b961b3e6117a9a452dfcb4290de38a88558ffc9b31864a4d4f683b.zip
      Description: Booking confirmation email handler (Stream trigger)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-bookingConfirmation
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdabookingConfirmationServiceRole2776BFF0
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdabookingConfirmationServiceRoleDefaultPolicy61CF6525
      - LambdabookingConfirmationServiceRole2776BFF0
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingConfirmation/Resource
      aws:asset:path: asset.de731bbb83b961b3e6117a9a452dfcb4290de38a88558ffc9b31864a4d4f683b
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdabookingConfirmationLogRetention4638CA4D:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdabookingConfirmation9D4B15F9
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingConfirmation/LogRetention/Resource
  LambdabookingConfirmationDynamoDBEventSourceCloudRacketdevServerlessStackDynamoDBBookingsTable014D51EEA5AB4C9B:
    Type: AWS::Lambda::EventSourceMapping
    Properties:
      BatchSize: 10
      EventSourceArn:
        Fn::GetAtt:
          - DynamoDBBookingsTable506B026C
          - StreamArn
      FunctionName:
        Ref: LambdabookingConfirmation9D4B15F9
      MaximumBatchingWindowInSeconds: 5
      MaximumRetryAttempts: 2
      StartingPosition: LATEST
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingConfirmation/DynamoDBEventSource:CloudRacketdevServerlessStackDynamoDBBookingsTable014D51EE/Resource
  LambdacreateReviewServiceRole8D6191E3:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createReview/ServiceRole/Resource
  LambdacreateReviewServiceRoleDefaultPolicy4931F337:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:PutItem
              - dynamodb:Query
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBReviewsTableB9A998F8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBReviewsTableB9A998F8
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdacreateReviewServiceRoleDefaultPolicy4931F337
      Roles:
        - Ref: LambdacreateReviewServiceRole8D6191E3
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createReview/ServiceRole/DefaultPolicy/Resource
  LambdacreateReviewF42E387B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 9acc2de91c2c005f674ce274461bba060045d7b32991ca2f1d38f9bf13c439e1.zip
      Description: Create review handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-createReview
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdacreateReviewServiceRole8D6191E3
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdacreateReviewServiceRoleDefaultPolicy4931F337
      - LambdacreateReviewServiceRole8D6191E3
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createReview/Resource
      aws:asset:path: asset.9acc2de91c2c005f674ce274461bba060045d7b32991ca2f1d38f9bf13c439e1
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdacreateReviewLogRetention8247B7D2:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdacreateReviewF42E387B
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/createReview/LogRetention/Resource
  LambdagetReviewsServiceRoleFC6E945E:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getReviews/ServiceRole/Resource
  LambdagetReviewsServiceRoleDefaultPolicyCECDDEDE:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:Query
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBReviewsTableB9A998F8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBReviewsTableB9A998F8
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdagetReviewsServiceRoleDefaultPolicyCECDDEDE
      Roles:
        - Ref: LambdagetReviewsServiceRoleFC6E945E
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getReviews/ServiceRole/DefaultPolicy/Resource
  LambdagetReviews70BBFC01:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 00bc1f87b780426e008d342078aa7ba174a95ccfe92b4dbd6bc8564e38cdeadc.zip
      Description: Get reviews handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getReviews
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetReviewsServiceRoleFC6E945E
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetReviewsServiceRoleDefaultPolicyCECDDEDE
      - LambdagetReviewsServiceRoleFC6E945E
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getReviews/Resource
      aws:asset:path: asset.00bc1f87b780426e008d342078aa7ba174a95ccfe92b4dbd6bc8564e38cdeadc
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetReviewsLogRetention87DD6C34:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetReviews70BBFC01
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getReviews/LogRetention/Resource
  LambdaaggregateRatingServiceRole3BBEBF12:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/aggregateRating/ServiceRole/Resource
  LambdaaggregateRatingServiceRoleDefaultPolicy6C3D5D4D:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - dynamodb:ListStreams
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBReviewsTableB9A998F8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBReviewsTableB9A998F8
                        - Arn
                    - /index/*
          - Action:
              - dynamodb:DescribeStream
              - dynamodb:GetRecords
              - dynamodb:GetShardIterator
              - dynamodb:ListStreams
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBReviewsTableB9A998F8
                - StreamArn
        Version: "2012-10-17"
      PolicyName: LambdaaggregateRatingServiceRoleDefaultPolicy6C3D5D4D
      Roles:
        - Ref: LambdaaggregateRatingServiceRole3BBEBF12
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/aggregateRating/ServiceRole/DefaultPolicy/Resource
  LambdaaggregateRating248BF033:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 24657c5519a46565cf271ce7145f0211ffea44725c5afda1e6b8bad9a45d3e39.zip
      Description: Aggregate court rating handler (Stream trigger)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-aggregateRating
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdaaggregateRatingServiceRole3BBEBF12
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdaaggregateRatingServiceRoleDefaultPolicy6C3D5D4D
      - LambdaaggregateRatingServiceRole3BBEBF12
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/aggregateRating/Resource
      aws:asset:path: asset.24657c5519a46565cf271ce7145f0211ffea44725c5afda1e6b8bad9a45d3e39
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdaaggregateRatingLogRetentionD5769783:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdaaggregateRating248BF033
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/aggregateRating/LogRetention/Resource
  LambdaaggregateRatingDynamoDBEventSourceCloudRacketdevServerlessStackDynamoDBReviewsTable9C92E30C6DA231F3:
    Type: AWS::Lambda::EventSourceMapping
    Properties:
      BatchSize: 10
      EventSourceArn:
        Fn::GetAtt:
          - DynamoDBReviewsTableB9A998F8
          - StreamArn
      FunctionName:
        Ref: LambdaaggregateRating248BF033
      MaximumBatchingWindowInSeconds: 5
      MaximumRetryAttempts: 2
      StartingPosition: LATEST
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/aggregateRating/DynamoDBEventSource:CloudRacketdevServerlessStackDynamoDBReviewsTable9C92E30C/Resource
  LambdagetRecommendationsServiceRoleD88B98CF:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRecommendations/ServiceRole/Resource
  LambdagetRecommendationsServiceRoleDefaultPolicy3B566435:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBInteractionsTable54D7777B
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBCourtsTable294C7023
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBInteractionsTable54D7777B
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdagetRecommendationsServiceRoleDefaultPolicy3B566435
      Roles:
        - Ref: LambdagetRecommendationsServiceRoleD88B98CF
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRecommendations/ServiceRole/DefaultPolicy/Resource
  LambdagetRecommendations2EEE58C6:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 5a18a2ce552c0fc9b1e199e4d05c207002c716a12b2a5347420cdfa6ad928cfc.zip
      Description: Get personalized recommendations handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getRecommendations
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetRecommendationsServiceRoleD88B98CF
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetRecommendationsServiceRoleDefaultPolicy3B566435
      - LambdagetRecommendationsServiceRoleD88B98CF
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRecommendations/Resource
      aws:asset:path: asset.5a18a2ce552c0fc9b1e199e4d05c207002c716a12b2a5347420cdfa6ad928cfc
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetRecommendationsLogRetentionA118DBE3:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetRecommendations2EEE58C6
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRecommendations/LogRetention/Resource
  LambdatrackInteractionServiceRole26422C54:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/trackInteraction/ServiceRole/Resource
  LambdatrackInteractionServiceRoleDefaultPolicy2C896740:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:PutItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBInteractionsTable54D7777B
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdatrackInteractionServiceRoleDefaultPolicy2C896740
      Roles:
        - Ref: LambdatrackInteractionServiceRole26422C54
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/trackInteraction/ServiceRole/DefaultPolicy/Resource
  LambdatrackInteraction26D68647:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 2ee0bbb6b64549d3dd35a60befd2f4efb193389a53d391719a0bbd991eb16af8.zip
      Description: Track user interaction handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-trackInteraction
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdatrackInteractionServiceRole26422C54
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdatrackInteractionServiceRoleDefaultPolicy2C896740
      - LambdatrackInteractionServiceRole26422C54
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/trackInteraction/Resource
      aws:asset:path: asset.2ee0bbb6b64549d3dd35a60befd2f4efb193389a53d391719a0bbd991eb16af8
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdatrackInteractionLogRetention90603790:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdatrackInteraction26D68647
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/trackInteraction/LogRetention/Resource
  LambdagetStatsServiceRole7741626B:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getStats/ServiceRole/Resource
  LambdagetStatsServiceRoleDefaultPolicy3F33D0D7:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBReviewsTableB9A998F8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBCourtsTable294C7023
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBReviewsTableB9A998F8
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdagetStatsServiceRoleDefaultPolicy3F33D0D7
      Roles:
        - Ref: LambdagetStatsServiceRole7741626B
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getStats/ServiceRole/DefaultPolicy/Resource
  LambdagetStats86E6C8E0:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: a63373078ad3c696506f40f026bdc7c5e6d76bdc39a652ccb986fed79fd21aca.zip
      Description: Get dashboard statistics handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getStats
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetStatsServiceRole7741626B
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetStatsServiceRoleDefaultPolicy3F33D0D7
      - LambdagetStatsServiceRole7741626B
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getStats/Resource
      aws:asset:path: asset.a63373078ad3c696506f40f026bdc7c5e6d76bdc39a652ccb986fed79fd21aca
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetStatsLogRetentionFFF494D1:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetStats86E6C8E0
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getStats/LogRetention/Resource
  LambdagetRevenueServiceRoleD7FA9831:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRevenue/ServiceRole/Resource
  LambdagetRevenueServiceRoleDefaultPolicy1B5FEE78:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:Query
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdagetRevenueServiceRoleDefaultPolicy1B5FEE78
      Roles:
        - Ref: LambdagetRevenueServiceRoleD7FA9831
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRevenue/ServiceRole/DefaultPolicy/Resource
  LambdagetRevenue6FF12825:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 1077b729f7cb17155f7138f4dcdaecb6a605a54029e06386639b3c8e81040314.zip
      Description: Get revenue analytics handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getRevenue
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetRevenueServiceRoleD7FA9831
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetRevenueServiceRoleDefaultPolicy1B5FEE78
      - LambdagetRevenueServiceRoleD7FA9831
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRevenue/Resource
      aws:asset:path: asset.1077b729f7cb17155f7138f4dcdaecb6a605a54029e06386639b3c8e81040314
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetRevenueLogRetention4BBA44B4:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetRevenue6FF12825
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getRevenue/LogRetention/Resource
  LambdagetBookingTrendsServiceRole6E68C2B8:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBookingTrends/ServiceRole/Resource
  LambdagetBookingTrendsServiceRoleDefaultPolicyE2259BAA:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: dynamodb:Query
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdagetBookingTrendsServiceRoleDefaultPolicyE2259BAA
      Roles:
        - Ref: LambdagetBookingTrendsServiceRole6E68C2B8
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBookingTrends/ServiceRole/DefaultPolicy/Resource
  LambdagetBookingTrends8E0D2FB3:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: b0ec1f0bc81f3a0cc3be22bdc7d2636e7fc8178d8ea4c6846355f3e76d7f51f0.zip
      Description: Get booking trends handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-getBookingTrends
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdagetBookingTrendsServiceRole6E68C2B8
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagetBookingTrendsServiceRoleDefaultPolicyE2259BAA
      - LambdagetBookingTrendsServiceRole6E68C2B8
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBookingTrends/Resource
      aws:asset:path: asset.b0ec1f0bc81f3a0cc3be22bdc7d2636e7fc8178d8ea4c6846355f3e76d7f51f0
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagetBookingTrendsLogRetention759C5BAE:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagetBookingTrends8E0D2FB3
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/getBookingTrends/LogRetention/Resource
  LambdagenerateReportServiceRole9AB50896:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/generateReport/ServiceRole/Resource
  LambdagenerateReportServiceRoleDefaultPolicyECE5F404:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBReviewsTableB9A998F8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBCourtsTable294C7023
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBReviewsTableB9A998F8
                        - Arn
                    - /index/*
          - Action: s3:PutObject
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - S3ReportsBucketEF7875E4
                      - Arn
                  - /*
        Version: "2012-10-17"
      PolicyName: LambdagenerateReportServiceRoleDefaultPolicyECE5F404
      Roles:
        - Ref: LambdagenerateReportServiceRole9AB50896
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/generateReport/ServiceRole/DefaultPolicy/Resource
  LambdagenerateReport11EE2C05:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 9a1464bb9d63f9abfebac23791bb19b8f24788ad43afe4ae03885b53e9af091a.zip
      Description: Generate analytics report handler
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-generateReport
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 512
      Role:
        Fn::GetAtt:
          - LambdagenerateReportServiceRole9AB50896
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 60
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdagenerateReportServiceRoleDefaultPolicyECE5F404
      - LambdagenerateReportServiceRole9AB50896
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/generateReport/Resource
      aws:asset:path: asset.9a1464bb9d63f9abfebac23791bb19b8f24788ad43afe4ae03885b53e9af091a
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdagenerateReportLogRetentionDFD8DD47:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdagenerateReport11EE2C05
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/generateReport/LogRetention/Resource
  LambdalistUsersServiceRole159CDDD0:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listUsers/ServiceRole/Resource
  LambdalistUsersServiceRoleDefaultPolicyF7F10D59:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - cognito-idp:AdminListGroupsForUser
              - cognito-idp:ListUsers
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - CognitoUserPool279BBD48
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdalistUsersServiceRoleDefaultPolicyF7F10D59
      Roles:
        - Ref: LambdalistUsersServiceRole159CDDD0
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listUsers/ServiceRole/DefaultPolicy/Resource
  LambdalistUsers30BB4538:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: dd7a8b25469070b72b9834c61e4ac29c199749d14f7b29e67fbfe067e1578c75.zip
      Description: List all users handler (Admin)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-listUsers
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdalistUsersServiceRole159CDDD0
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdalistUsersServiceRoleDefaultPolicyF7F10D59
      - LambdalistUsersServiceRole159CDDD0
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listUsers/Resource
      aws:asset:path: asset.dd7a8b25469070b72b9834c61e4ac29c199749d14f7b29e67fbfe067e1578c75
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdalistUsersLogRetention1E68737F:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdalistUsers30BB4538
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listUsers/LogRetention/Resource
  LambdaupdateUserServiceRole92C5375A:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateUser/ServiceRole/Resource
  LambdaupdateUserServiceRoleDefaultPolicyBE707236:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - cognito-idp:AdminAddUserToGroup
              - cognito-idp:AdminDisableUser
              - cognito-idp:AdminEnableUser
              - cognito-idp:AdminRemoveUserFromGroup
              - cognito-idp:AdminUpdateUserAttributes
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - CognitoUserPool279BBD48
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdaupdateUserServiceRoleDefaultPolicyBE707236
      Roles:
        - Ref: LambdaupdateUserServiceRole92C5375A
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateUser/ServiceRole/DefaultPolicy/Resource
  LambdaupdateUser0A499408:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: df7e9f0d47bc05b69263bc9deb807ad51d54197b8c121d5b41020728e7f92ddc.zip
      Description: Update user handler (Admin)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-updateUser
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdaupdateUserServiceRole92C5375A
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdaupdateUserServiceRoleDefaultPolicyBE707236
      - LambdaupdateUserServiceRole92C5375A
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateUser/Resource
      aws:asset:path: asset.df7e9f0d47bc05b69263bc9deb807ad51d54197b8c121d5b41020728e7f92ddc
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdaupdateUserLogRetention4E2DA7C2:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdaupdateUser0A499408
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/updateUser/LogRetention/Resource
  LambdadeleteUserServiceRole05DF1A4A:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteUser/ServiceRole/Resource
  LambdadeleteUserServiceRoleDefaultPolicyE4DA26A8:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action: cognito-idp:AdminDeleteUser
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - CognitoUserPool279BBD48
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdadeleteUserServiceRoleDefaultPolicyE4DA26A8
      Roles:
        - Ref: LambdadeleteUserServiceRole05DF1A4A
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteUser/ServiceRole/DefaultPolicy/Resource
  LambdadeleteUser4D3921AA:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 605e81d855a78c5e4becb65395160d98453d992b9a9aeb59d2117e6d81ed9d72.zip
      Description: Delete user handler (Admin)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-deleteUser
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdadeleteUserServiceRole05DF1A4A
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdadeleteUserServiceRoleDefaultPolicyE4DA26A8
      - LambdadeleteUserServiceRole05DF1A4A
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteUser/Resource
      aws:asset:path: asset.605e81d855a78c5e4becb65395160d98453d992b9a9aeb59d2117e6d81ed9d72
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdadeleteUserLogRetentionBACEEBFF:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdadeleteUser4D3921AA
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/deleteUser/LogRetention/Resource
  LambdalistAllCourtsServiceRole63147FC9:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listAllCourts/ServiceRole/Resource
  LambdalistAllCourtsServiceRoleDefaultPolicy4FCF3142:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBCourtsTable294C7023
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdalistAllCourtsServiceRoleDefaultPolicy4FCF3142
      Roles:
        - Ref: LambdalistAllCourtsServiceRole63147FC9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listAllCourts/ServiceRole/DefaultPolicy/Resource
  LambdalistAllCourts66F98C2B:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: b76dce4f713ccf226a0541adb5c3d8d65f9906b42927c27af0f3d45845978235.zip
      Description: List all courts handler (Admin)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-listAllCourts
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdalistAllCourtsServiceRole63147FC9
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdalistAllCourtsServiceRoleDefaultPolicy4FCF3142
      - LambdalistAllCourtsServiceRole63147FC9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listAllCourts/Resource
      aws:asset:path: asset.b76dce4f713ccf226a0541adb5c3d8d65f9906b42927c27af0f3d45845978235
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdalistAllCourtsLogRetention7038BF40:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdalistAllCourts66F98C2B
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/listAllCourts/LogRetention/Resource
  LambdamoderateReviewServiceRoleF8516292:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/moderateReview/ServiceRole/Resource
  LambdamoderateReviewServiceRoleDefaultPolicyBEF1BB0F:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:DeleteItem
              - dynamodb:GetItem
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - DynamoDBReviewsTableB9A998F8
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdamoderateReviewServiceRoleDefaultPolicyBEF1BB0F
      Roles:
        - Ref: LambdamoderateReviewServiceRoleF8516292
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/moderateReview/ServiceRole/DefaultPolicy/Resource
  LambdamoderateReview4EA814BD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 3d5f9b2666731b8f5973dbfcdd2812addbb56319706c9a0a1c78bfbdd5e0a586.zip
      Description: Moderate review handler (Admin)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-moderateReview
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdamoderateReviewServiceRoleF8516292
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdamoderateReviewServiceRoleDefaultPolicyBEF1BB0F
      - LambdamoderateReviewServiceRoleF8516292
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/moderateReview/Resource
      aws:asset:path: asset.3d5f9b2666731b8f5973dbfcdd2812addbb56319706c9a0a1c78bfbdd5e0a586
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdamoderateReviewLogRetention286C53EE:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdamoderateReview4EA814BD
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/moderateReview/LogRetention/Resource
  LambdabookingReminderServiceRole4339AC43:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingReminder/ServiceRole/Resource
  LambdabookingReminderServiceRoleDefaultPolicy51663BBA:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
          - Action:
              - ses:SendEmail
              - ses:SendTemplatedEmail
            Effect: Allow
            Resource:
              - arn:aws:ses:*:*:identity/*
              - arn:aws:ses:ap-southeast-1:556797196698:identity/anhlehoangg2003@gmail.com
          - Action: cognito-idp:AdminGetUser
            Effect: Allow
            Resource:
              Fn::GetAtt:
                - CognitoUserPool279BBD48
                - Arn
        Version: "2012-10-17"
      PolicyName: LambdabookingReminderServiceRoleDefaultPolicy51663BBA
      Roles:
        - Ref: LambdabookingReminderServiceRole4339AC43
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingReminder/ServiceRole/DefaultPolicy/Resource
  LambdabookingReminderFFD341FE:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 111ab331a03120a0a45f230ceab78b37d40c95ee94876793273fc3f2773686cd.zip
      Description: Send booking reminder emails (Scheduled)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-bookingReminder
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 256
      Role:
        Fn::GetAtt:
          - LambdabookingReminderServiceRole4339AC43
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 30
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdabookingReminderServiceRoleDefaultPolicy51663BBA
      - LambdabookingReminderServiceRole4339AC43
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingReminder/Resource
      aws:asset:path: asset.111ab331a03120a0a45f230ceab78b37d40c95ee94876793273fc3f2773686cd
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdabookingReminderLogRetention8254A8F6:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdabookingReminderFFD341FE
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/bookingReminder/LogRetention/Resource
  LambdacleanupServiceRole94769A83:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cleanup/ServiceRole/Resource
  LambdacleanupServiceRoleDefaultPolicy7574E813:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:DeleteItem
              - dynamodb:Query
              - dynamodb:Scan
              - dynamodb:UpdateItem
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBAvailabilityTableAC1BA3AA
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBInteractionsTable54D7777B
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBAvailabilityTableAC1BA3AA
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBInteractionsTable54D7777B
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdacleanupServiceRoleDefaultPolicy7574E813
      Roles:
        - Ref: LambdacleanupServiceRole94769A83
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cleanup/ServiceRole/DefaultPolicy/Resource
  LambdacleanupBDE07DDF:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 67b125646b94e2d19663a198bad5ac265a65c75f27a35c010f46da48b0edf448.zip
      Description: Clean up expired bookings and old data (Scheduled)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-cleanup
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 512
      Role:
        Fn::GetAtt:
          - LambdacleanupServiceRole94769A83
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 300
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdacleanupServiceRoleDefaultPolicy7574E813
      - LambdacleanupServiceRole94769A83
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cleanup/Resource
      aws:asset:path: asset.67b125646b94e2d19663a198bad5ac265a65c75f27a35c010f46da48b0edf448
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdacleanupLogRetentionBC9FB1BD:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdacleanupBDE07DDF
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/cleanup/LogRetention/Resource
  LambdaretrainingServiceRole58B3B972:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/retraining/ServiceRole/Resource
  LambdaretrainingServiceRoleDefaultPolicyECCE5A5F:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBInteractionsTable54D7777B
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBInteractionsTable54D7777B
                        - Arn
                    - /index/*
        Version: "2012-10-17"
      PolicyName: LambdaretrainingServiceRoleDefaultPolicyECCE5A5F
      Roles:
        - Ref: LambdaretrainingServiceRole58B3B972
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/retraining/ServiceRole/DefaultPolicy/Resource
  Lambdaretraining903E08AD:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: b9f4f345e4f273ee9de6ca999c5f33ceb55ad62fbbc6bf7407f65f7590e7178d.zip
      Description: Retrain recommendation model (Scheduled)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-retraining
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 512
      Role:
        Fn::GetAtt:
          - LambdaretrainingServiceRole58B3B972
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 300
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdaretrainingServiceRoleDefaultPolicyECCE5A5F
      - LambdaretrainingServiceRole58B3B972
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/retraining/Resource
      aws:asset:path: asset.b9f4f345e4f273ee9de6ca999c5f33ceb55ad62fbbc6bf7407f65f7590e7178d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdaretrainingLogRetention4F4448C8:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: Lambdaretraining903E08AD
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/retraining/LogRetention/Resource
  LambdamonthlyReportServiceRole6359C992:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/monthlyReport/ServiceRole/Resource
  LambdamonthlyReportServiceRoleDefaultPolicyD5519CC9:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - xray:PutTelemetryRecords
              - xray:PutTraceSegments
            Effect: Allow
            Resource: "*"
          - Action:
              - dynamodb:Query
              - dynamodb:Scan
            Effect: Allow
            Resource:
              - Fn::GetAtt:
                  - DynamoDBBookingsTable506B026C
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBCourtsTable294C7023
                  - Arn
              - Fn::GetAtt:
                  - DynamoDBReviewsTableB9A998F8
                  - Arn
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBBookingsTable506B026C
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBCourtsTable294C7023
                        - Arn
                    - /index/*
              - Fn::Join:
                  - ""
                  - - Fn::GetAtt:
                        - DynamoDBReviewsTableB9A998F8
                        - Arn
                    - /index/*
          - Action: s3:PutObject
            Effect: Allow
            Resource:
              Fn::Join:
                - ""
                - - Fn::GetAtt:
                      - S3ReportsBucketEF7875E4
                      - Arn
                  - /*
          - Action:
              - ses:SendEmail
              - ses:SendTemplatedEmail
            Effect: Allow
            Resource:
              - arn:aws:ses:*:*:identity/*
              - arn:aws:ses:ap-southeast-1:556797196698:identity/anhlehoangg2003@gmail.com
        Version: "2012-10-17"
      PolicyName: LambdamonthlyReportServiceRoleDefaultPolicyD5519CC9
      Roles:
        - Ref: LambdamonthlyReportServiceRole6359C992
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/monthlyReport/ServiceRole/DefaultPolicy/Resource
  LambdamonthlyReportB50DF0CE:
    Type: AWS::Lambda::Function
    Properties:
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 287d26066a9f92f4d5cf3d407d30b87b32c739725f6351dfa5100abe2d669a75.zip
      Description: Generate monthly analytics report (Scheduled)
      Environment:
        Variables:
          STAGE: dev
          COURTS_TABLE:
            Ref: DynamoDBCourtsTable294C7023
          AVAILABILITY_TABLE:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
          BOOKINGS_TABLE:
            Ref: DynamoDBBookingsTable506B026C
          REVIEWS_TABLE:
            Ref: DynamoDBReviewsTableB9A998F8
          INTERACTIONS_TABLE:
            Ref: DynamoDBInteractionsTable54D7777B
          IMAGES_BUCKET:
            Ref: S3ImagesBucket871BE768
          REPORTS_BUCKET:
            Ref: S3ReportsBucketEF7875E4
          USER_POOL_ID:
            Ref: CognitoUserPool279BBD48
          USER_POOL_CLIENT_ID:
            Ref: CognitoUserPoolAppClient4B964922
          SENDER_EMAIL: anhlehoangg2003@gmail.com
          PLACE_INDEX_NAME: dev-cloud-racket-places
      FunctionName: dev-monthlyReport
      Handler: index.handler
      Layers:
        - Ref: LambdaLayersCommonLayer5DEAE1F3
        - Ref: LambdaLayersUtilsLayerE0BC1407
      MemorySize: 512
      Role:
        Fn::GetAtt:
          - LambdamonthlyReportServiceRole6359C992
          - Arn
      Runtime: nodejs18.x
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Timeout: 300
      TracingConfig:
        Mode: Active
    DependsOn:
      - LambdamonthlyReportServiceRoleDefaultPolicyD5519CC9
      - LambdamonthlyReportServiceRole6359C992
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/monthlyReport/Resource
      aws:asset:path: asset.287d26066a9f92f4d5cf3d407d30b87b32c739725f6351dfa5100abe2d669a75
      aws:asset:is-bundled: false
      aws:asset:property: Code
  LambdamonthlyReportLogRetention85AD3EFB:
    Type: Custom::LogRetention
    Properties:
      ServiceToken:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A
          - Arn
      LogGroupName:
        Fn::Join:
          - ""
          - - /aws/lambda/
            - Ref: LambdamonthlyReportB50DF0CE
      RetentionInDays: 30
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Lambda/monthlyReport/LogRetention/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: lambda.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AWSLambdaBasicExecutionRole
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB:
    Type: AWS::IAM::Policy
    Properties:
      PolicyDocument:
        Statement:
          - Action:
              - logs:DeleteRetentionPolicy
              - logs:PutRetentionPolicy
            Effect: Allow
            Resource: "*"
        Version: "2012-10-17"
      PolicyName: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      Roles:
        - Ref: LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/ServiceRole/DefaultPolicy/Resource
  LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aFD4BFC8A:
    Type: AWS::Lambda::Function
    Properties:
      Handler: index.handler
      Runtime: nodejs22.x
      Timeout: 900
      Code:
        S3Bucket: cdk-hnb659fds-assets-556797196698-ap-southeast-1
        S3Key: 2819175352ad1ce0dae768e83fc328fb70fb5f10b4a8ff0ccbcb791f02b0716d.zip
      Role:
        Fn::GetAtt:
          - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
          - Arn
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    DependsOn:
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRoleDefaultPolicyADDA7DEB
      - LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8aServiceRole9741ECFB
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/LogRetentionaae0aa3c5b4d4f87b02d85b201efdd8a/Resource
      aws:asset:path: asset.2819175352ad1ce0dae768e83fc328fb70fb5f10b4a8ff0ccbcb791f02b0716d
      aws:asset:is-bundled: false
      aws:asset:property: Code
  APIGatewayAPIAccessLogsC6717B51:
    Type: AWS::Logs::LogGroup
    Properties:
      RetentionInDays: 30
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/APIAccessLogs/Resource
  APIGatewayCloudRacketAPI1F0391D9:
    Type: AWS::ApiGateway::RestApi
    Properties:
      Description: Cloud Racket Platform API - dev
      Name: CloudRacketAPI
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Resource
  APIGatewayCloudRacketAPICloudWatchRole1C7FC99C:
    Type: AWS::IAM::Role
    Properties:
      AssumeRolePolicyDocument:
        Statement:
          - Action: sts:AssumeRole
            Effect: Allow
            Principal:
              Service: apigateway.amazonaws.com
        Version: "2012-10-17"
      ManagedPolicyArns:
        - Fn::Join:
            - ""
            - - "arn:"
              - Ref: AWS::Partition
              - :iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/CloudWatchRole/Resource
  APIGatewayCloudRacketAPIAccount42070A7C:
    Type: AWS::ApiGateway::Account
    Properties:
      CloudWatchRoleArn:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPICloudWatchRole1C7FC99C
          - Arn
    DependsOn:
      - APIGatewayCloudRacketAPI1F0391D9
    UpdateReplacePolicy: Retain
    DeletionPolicy: Retain
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Account
  APIGatewayCloudRacketAPIDeployment7270ABC5103db45f9a067975c879bb062f4c24a8:
    Type: AWS::ApiGateway::Deployment
    Properties:
      Description: Cloud Racket Platform API - dev
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    DependsOn:
      - APIGatewayCloudRacketAPIadmincourtsGET6DDF0161
      - APIGatewayCloudRacketAPIadmincourtsOPTIONS3C513830
      - APIGatewayCloudRacketAPIadmincourtsC9327391
      - APIGatewayCloudRacketAPIadminOPTIONS952235FF
      - APIGatewayCloudRacketAPIadmin1195770B
      - APIGatewayCloudRacketAPIadminreviewsreviewIdOPTIONS3CD16BFC
      - APIGatewayCloudRacketAPIadminreviewsreviewIdPUT8BD89FB6
      - APIGatewayCloudRacketAPIadminreviewsreviewId48C716F5
      - APIGatewayCloudRacketAPIadminreviewsOPTIONSB1145A75
      - APIGatewayCloudRacketAPIadminreviewsDCCDACAF
      - APIGatewayCloudRacketAPIadminusersuserIdDELETEC12CFF18
      - APIGatewayCloudRacketAPIadminusersuserIdOPTIONSA17E3EF7
      - APIGatewayCloudRacketAPIadminusersuserIdPUT9A0862EF
      - APIGatewayCloudRacketAPIadminusersuserId7E6CD648
      - APIGatewayCloudRacketAPIadminusersGET38A25333
      - APIGatewayCloudRacketAPIadminusersOPTIONS5AD0852E
      - APIGatewayCloudRacketAPIadminusers5946D244
      - APIGatewayCloudRacketAPIauthloginOPTIONSD7BEEFF9
      - APIGatewayCloudRacketAPIauthloginPOSTDC997E4D
      - APIGatewayCloudRacketAPIauthloginE8E07A43
      - APIGatewayCloudRacketAPIauthOPTIONSDBC3ACD6
      - APIGatewayCloudRacketAPIauthrefreshtokenOPTIONSAC700E7A
      - APIGatewayCloudRacketAPIauthrefreshtokenPOST7D3AC277
      - APIGatewayCloudRacketAPIauthrefreshtokenD3FA0302
      - APIGatewayCloudRacketAPIauthregisterOPTIONS9B2D0FC9
      - APIGatewayCloudRacketAPIauthregisterPOST9B52AC51
      - APIGatewayCloudRacketAPIauthregister40110EE7
      - APIGatewayCloudRacketAPIauthB9D4BAA7
      - APIGatewayCloudRacketAPIbookingsbookingIdDELETE5033D772
      - APIGatewayCloudRacketAPIbookingsbookingIdGETBEC7F133
      - APIGatewayCloudRacketAPIbookingsbookingIdOPTIONSA5297689
      - APIGatewayCloudRacketAPIbookingsbookingId05747D4B
      - APIGatewayCloudRacketAPIbookingsGETB78FAB02
      - APIGatewayCloudRacketAPIbookingsOPTIONSA78BED54
      - APIGatewayCloudRacketAPIbookingsPOST9FE35F0E
      - APIGatewayCloudRacketAPIbookings860247AF
      - APIGatewayCloudRacketAPIcourtscourtIdavailabilityGETC11D072F
      - APIGatewayCloudRacketAPIcourtscourtIdavailabilityOPTIONSB7B1C17B
      - APIGatewayCloudRacketAPIcourtscourtIdavailabilityPUTB4D1626C
      - APIGatewayCloudRacketAPIcourtscourtIdavailabilityBFA3D5F2
      - APIGatewayCloudRacketAPIcourtscourtIdDELETE962C150C
      - APIGatewayCloudRacketAPIcourtscourtIdGET5E5EAFBB
      - APIGatewayCloudRacketAPIcourtscourtIdimagesOPTIONS8C33A504
      - APIGatewayCloudRacketAPIcourtscourtIdimagesPOST0ABC9A00
      - APIGatewayCloudRacketAPIcourtscourtIdimages039284FA
      - APIGatewayCloudRacketAPIcourtscourtIdOPTIONSDE68038D
      - APIGatewayCloudRacketAPIcourtscourtIdPUT54F87D56
      - APIGatewayCloudRacketAPIcourtscourtId5443647D
      - APIGatewayCloudRacketAPIcourtsGET3C13A372
      - APIGatewayCloudRacketAPIcourtsnearbyGET8FD90BB8
      - APIGatewayCloudRacketAPIcourtsnearbyOPTIONS076E1432
      - APIGatewayCloudRacketAPIcourtsnearby69C9F977
      - APIGatewayCloudRacketAPIcourtsOPTIONSB148AEA2
      - APIGatewayCloudRacketAPIcourtsPOSTE5C644E7
      - APIGatewayCloudRacketAPIcourtsFACCADBC
      - APIGatewayCloudRacketAPIdashboardbookingsGET418C8FBF
      - APIGatewayCloudRacketAPIdashboardbookingsOPTIONSDA3AD9DE
      - APIGatewayCloudRacketAPIdashboardbookingsBD44BF31
      - APIGatewayCloudRacketAPIdashboardOPTIONS252710C4
      - APIGatewayCloudRacketAPIdashboardE6E54BE5
      - APIGatewayCloudRacketAPIdashboardrevenueGET587B0F6C
      - APIGatewayCloudRacketAPIdashboardrevenueOPTIONS457887CE
      - APIGatewayCloudRacketAPIdashboardrevenueA6B861EC
      - APIGatewayCloudRacketAPIdashboardstatsGET39B6F445
      - APIGatewayCloudRacketAPIdashboardstatsOPTIONS7F54B93B
      - APIGatewayCloudRacketAPIdashboardstats0DEB124A
      - APIGatewayCloudRacketAPIOPTIONS06D4EB00
      - APIGatewayCloudRacketAPIrecommendationsGET61DB925A
      - APIGatewayCloudRacketAPIrecommendationsOPTIONS16285CD7
      - APIGatewayCloudRacketAPIrecommendations890A0497
      - APIGatewayCloudRacketAPIrecommendationstrackOPTIONSDC498B8A
      - APIGatewayCloudRacketAPIrecommendationstrackPOST209B34CF
      - APIGatewayCloudRacketAPIrecommendationstrack5A0FDAED
      - APIGatewayCloudRacketAPIreviewsGETB97394D2
      - APIGatewayCloudRacketAPIreviewsOPTIONS3FC0DD95
      - APIGatewayCloudRacketAPIreviewsPOST76E9DE74
      - APIGatewayCloudRacketAPIreviews3E385556
      - APIGatewayCognitoAuthorizerE541E2E0
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Deployment/Resource
      aws:cdk:do-not-refactor: true
  APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9:
    Type: AWS::ApiGateway::Stage
    Properties:
      AccessLogSetting:
        DestinationArn:
          Fn::GetAtt:
            - APIGatewayAPIAccessLogsC6717B51
            - Arn
        Format: '{"requestId":"$context.requestId","ip":"$context.identity.sourceIp","user":"$context.identity.user","caller":"$context.identity.caller","requestTime":"$context.requestTime","httpMethod":"$context.httpMethod","resourcePath":"$context.resourcePath","status":"$context.status","protocol":"$context.protocol","responseLength":"$context.responseLength"}'
      CacheClusterEnabled: true
      CacheClusterSize: "0.5"
      DeploymentId:
        Ref: APIGatewayCloudRacketAPIDeployment7270ABC5103db45f9a067975c879bb062f4c24a8
      MethodSettings:
        - CacheTtlInSeconds: 60
          CachingEnabled: true
          DataTraceEnabled: true
          HttpMethod: "*"
          LoggingLevel: INFO
          MetricsEnabled: true
          ResourcePath: /*
          ThrottlingBurstLimit: 200
          ThrottlingRateLimit: 100
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
      StageName: dev
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      TracingEnabled: true
    DependsOn:
      - APIGatewayCloudRacketAPIAccount42070A7C
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/DeploymentStage.dev/Resource
  APIGatewayCloudRacketAPIOPTIONS06D4EB00:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/OPTIONS/Resource
  APIGatewayCloudRacketAPIauthB9D4BAA7:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      PathPart: auth
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/Resource
  APIGatewayCloudRacketAPIauthOPTIONSDBC3ACD6:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIauthB9D4BAA7
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/OPTIONS/Resource
  APIGatewayCloudRacketAPIauthregister40110EE7:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIauthB9D4BAA7
      PathPart: register
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/register/Resource
  APIGatewayCloudRacketAPIauthregisterOPTIONS9B2D0FC9:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIauthregister40110EE7
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/register/OPTIONS/Resource
  APIGatewayCloudRacketAPIauthregisterPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTauthregisterFC157CD8:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Lambdaregister21999CBE
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/auth/register
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/register/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..auth.register
  APIGatewayCloudRacketAPIauthregisterPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTauthregisterB6109981:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Lambdaregister21999CBE
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/auth/register
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/register/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..auth.register
  APIGatewayCloudRacketAPIauthregisterPOST9B52AC51:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - Lambdaregister21999CBE
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIauthregister40110EE7
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/register/POST/Resource
  APIGatewayCloudRacketAPIauthloginE8E07A43:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIauthB9D4BAA7
      PathPart: login
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/login/Resource
  APIGatewayCloudRacketAPIauthloginOPTIONSD7BEEFF9:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIauthloginE8E07A43
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/login/OPTIONS/Resource
  APIGatewayCloudRacketAPIauthloginPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTauthlogin097CDD8E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Lambdalogin6D5CF434
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/auth/login
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/login/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..auth.login
  APIGatewayCloudRacketAPIauthloginPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTauthloginD9C5D8FD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - Lambdalogin6D5CF434
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/auth/login
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/login/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..auth.login
  APIGatewayCloudRacketAPIauthloginPOSTDC997E4D:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - Lambdalogin6D5CF434
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIauthloginE8E07A43
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/login/POST/Resource
  APIGatewayCloudRacketAPIauthrefreshtokenD3FA0302:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIauthB9D4BAA7
      PathPart: refresh-token
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/refresh-token/Resource
  APIGatewayCloudRacketAPIauthrefreshtokenOPTIONSAC700E7A:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIauthrefreshtokenD3FA0302
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/refresh-token/OPTIONS/Resource
  APIGatewayCloudRacketAPIauthrefreshtokenPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTauthrefreshtoken6634E9E2:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdarefreshToken4EDF1FC1
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/auth/refresh-token
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/refresh-token/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..auth.refresh-token
  APIGatewayCloudRacketAPIauthrefreshtokenPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTauthrefreshtokenDB26EC24:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdarefreshToken4EDF1FC1
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/auth/refresh-token
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/refresh-token/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..auth.refresh-token
  APIGatewayCloudRacketAPIauthrefreshtokenPOST7D3AC277:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdarefreshToken4EDF1FC1
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIauthrefreshtokenD3FA0302
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/auth/refresh-token/POST/Resource
  APIGatewayCloudRacketAPIcourtsFACCADBC:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      PathPart: courts
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/Resource
  APIGatewayCloudRacketAPIcourtsOPTIONSB148AEA2:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtsFACCADBC
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/OPTIONS/Resource
  APIGatewayCloudRacketAPIcourtsGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourtsA7C34694:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdasearchCourtsA26B8708
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/courts
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts
  APIGatewayCloudRacketAPIcourtsGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourts66FE3D59:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdasearchCourtsA26B8708
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/courts
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts
  APIGatewayCloudRacketAPIcourtsGET3C13A372:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdasearchCourtsA26B8708
                  - Arn
              - /invocations
      RequestParameters:
        method.request.querystring.district: false
        method.request.querystring.minPrice: false
        method.request.querystring.maxPrice: false
        method.request.querystring.rating: false
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtsFACCADBC
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/GET/Resource
  APIGatewayCloudRacketAPIcourtsPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTcourtsC9AC19FD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacreateCourtE33EB326
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/courts
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..courts
  APIGatewayCloudRacketAPIcourtsPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTcourts1391CBEA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacreateCourtE33EB326
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/courts
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..courts
  APIGatewayCloudRacketAPIcourtsPOSTE5C644E7:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdacreateCourtE33EB326
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtsFACCADBC
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/POST/Resource
  APIGatewayCloudRacketAPIcourtsnearby69C9F977:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIcourtsFACCADBC
      PathPart: nearby
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/nearby/Resource
  APIGatewayCloudRacketAPIcourtsnearbyOPTIONS076E1432:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtsnearby69C9F977
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/nearby/OPTIONS/Resource
  APIGatewayCloudRacketAPIcourtsnearbyGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourtsnearby174D64FD:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdanearbyCourts450C3A7F
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/courts/nearby
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/nearby/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts.nearby
  APIGatewayCloudRacketAPIcourtsnearbyGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourtsnearby74C19740:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdanearbyCourts450C3A7F
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/courts/nearby
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/nearby/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts.nearby
  APIGatewayCloudRacketAPIcourtsnearbyGET8FD90BB8:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdanearbyCourts450C3A7F
                  - Arn
              - /invocations
      RequestParameters:
        method.request.querystring.lat: true
        method.request.querystring.lng: true
        method.request.querystring.radius: false
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtsnearby69C9F977
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/nearby/GET/Resource
  APIGatewayCloudRacketAPIcourtscourtId5443647D:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIcourtsFACCADBC
      PathPart: "{courtId}"
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/Resource
  APIGatewayCloudRacketAPIcourtscourtIdOPTIONSDE68038D:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtId5443647D
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/OPTIONS/Resource
  APIGatewayCloudRacketAPIcourtscourtIdGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourtscourtId80179BFA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetCourtE5BD895A
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/courts/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts.{courtId}
  APIGatewayCloudRacketAPIcourtscourtIdGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourtscourtId1511D57A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetCourtE5BD895A
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/courts/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts.{courtId}
  APIGatewayCloudRacketAPIcourtscourtIdGET5E5EAFBB:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetCourtE5BD895A
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtId5443647D
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/GET/Resource
  APIGatewayCloudRacketAPIcourtscourtIdPUTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTcourtscourtIdD3744A3B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdaupdateCourt7383893F
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /PUT/courts/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/PUT/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..courts.{courtId}
  APIGatewayCloudRacketAPIcourtscourtIdPUTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTcourtscourtId44B958DC:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdaupdateCourt7383893F
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/PUT/courts/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/PUT/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..courts.{courtId}
  APIGatewayCloudRacketAPIcourtscourtIdPUT54F87D56:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdaupdateCourt7383893F
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtId5443647D
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/PUT/Resource
  APIGatewayCloudRacketAPIcourtscourtIdDELETEApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410DELETEcourtscourtIdFE2DE07D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdadeleteCourt5423559F
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /DELETE/courts/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/DELETE/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.DELETE..courts.{courtId}
  APIGatewayCloudRacketAPIcourtscourtIdDELETEApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410DELETEcourtscourtId70D02B09:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdadeleteCourt5423559F
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/DELETE/courts/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/DELETE/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.DELETE..courts.{courtId}
  APIGatewayCloudRacketAPIcourtscourtIdDELETE962C150C:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: DELETE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdadeleteCourt5423559F
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtId5443647D
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/DELETE/Resource
  APIGatewayCloudRacketAPIcourtscourtIdimages039284FA:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIcourtscourtId5443647D
      PathPart: images
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/images/Resource
  APIGatewayCloudRacketAPIcourtscourtIdimagesOPTIONS8C33A504:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtIdimages039284FA
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/images/OPTIONS/Resource
  APIGatewayCloudRacketAPIcourtscourtIdimagesPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTcourtscourtIdimages23734681:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdauploadCourtImageCD700EED
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/courts/*/images
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/images/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..courts.{courtId}.images
  APIGatewayCloudRacketAPIcourtscourtIdimagesPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTcourtscourtIdimages8E95D92C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdauploadCourtImageCD700EED
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/courts/*/images
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/images/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..courts.{courtId}.images
  APIGatewayCloudRacketAPIcourtscourtIdimagesPOST0ABC9A00:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdauploadCourtImageCD700EED
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtIdimages039284FA
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/images/POST/Resource
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityBFA3D5F2:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIcourtscourtId5443647D
      PathPart: availability
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/Resource
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityOPTIONSB7B1C17B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtIdavailabilityBFA3D5F2
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/OPTIONS/Resource
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourtscourtIdavailability3DD051A7:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetAvailability418DB8CA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/courts/*/availability
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts.{courtId}.availability
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETcourtscourtIdavailability065ED466:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetAvailability418DB8CA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/courts/*/availability
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..courts.{courtId}.availability
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityGETC11D072F:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetAvailability418DB8CA
                  - Arn
              - /invocations
      RequestParameters:
        method.request.querystring.startDate: true
        method.request.querystring.endDate: true
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtIdavailabilityBFA3D5F2
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/GET/Resource
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityPUTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTcourtscourtIdavailabilityFC2E193C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdaupdateAvailability3D4E3CE0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /PUT/courts/*/availability
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/PUT/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..courts.{courtId}.availability
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityPUTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTcourtscourtIdavailabilityD190AC3B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdaupdateAvailability3D4E3CE0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/PUT/courts/*/availability
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/PUT/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..courts.{courtId}.availability
  APIGatewayCloudRacketAPIcourtscourtIdavailabilityPUTB4D1626C:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdaupdateAvailability3D4E3CE0
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIcourtscourtIdavailabilityBFA3D5F2
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/courts/{courtId}/availability/PUT/Resource
  APIGatewayCloudRacketAPIbookings860247AF:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      PathPart: bookings
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/Resource
  APIGatewayCloudRacketAPIbookingsOPTIONSA78BED54:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIbookings860247AF
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/OPTIONS/Resource
  APIGatewayCloudRacketAPIbookingsPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTbookings01F0B1C8:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacreateBooking8730EAFC
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/bookings
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..bookings
  APIGatewayCloudRacketAPIbookingsPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTbookings8C3C770A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacreateBooking8730EAFC
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/bookings
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..bookings
  APIGatewayCloudRacketAPIbookingsPOST9FE35F0E:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdacreateBooking8730EAFC
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIbookings860247AF
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/POST/Resource
  APIGatewayCloudRacketAPIbookingsGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETbookings0A828D8B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdalistBookings77010DE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/bookings
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..bookings
  APIGatewayCloudRacketAPIbookingsGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETbookings89ACE1C6:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdalistBookings77010DE9
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/bookings
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..bookings
  APIGatewayCloudRacketAPIbookingsGETB78FAB02:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdalistBookings77010DE9
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIbookings860247AF
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/GET/Resource
  APIGatewayCloudRacketAPIbookingsbookingId05747D4B:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIbookings860247AF
      PathPart: "{bookingId}"
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/Resource
  APIGatewayCloudRacketAPIbookingsbookingIdOPTIONSA5297689:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIbookingsbookingId05747D4B
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/OPTIONS/Resource
  APIGatewayCloudRacketAPIbookingsbookingIdGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETbookingsbookingId754A3142:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetBooking91897687
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/bookings/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..bookings.{bookingId}
  APIGatewayCloudRacketAPIbookingsbookingIdGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETbookingsbookingIdD997F44E:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetBooking91897687
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/bookings/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..bookings.{bookingId}
  APIGatewayCloudRacketAPIbookingsbookingIdGETBEC7F133:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetBooking91897687
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIbookingsbookingId05747D4B
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/GET/Resource
  APIGatewayCloudRacketAPIbookingsbookingIdDELETEApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410DELETEbookingsbookingId0C482C7D:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacancelBookingB3204B7B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /DELETE/bookings/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/DELETE/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.DELETE..bookings.{bookingId}
  APIGatewayCloudRacketAPIbookingsbookingIdDELETEApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410DELETEbookingsbookingId80F30625:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacancelBookingB3204B7B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/DELETE/bookings/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/DELETE/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.DELETE..bookings.{bookingId}
  APIGatewayCloudRacketAPIbookingsbookingIdDELETE5033D772:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: DELETE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdacancelBookingB3204B7B
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIbookingsbookingId05747D4B
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/bookings/{bookingId}/DELETE/Resource
  APIGatewayCloudRacketAPIreviews3E385556:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      PathPart: reviews
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/Resource
  APIGatewayCloudRacketAPIreviewsOPTIONS3FC0DD95:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIreviews3E385556
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/OPTIONS/Resource
  APIGatewayCloudRacketAPIreviewsPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTreviews75FD6B97:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacreateReviewF42E387B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/reviews
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..reviews
  APIGatewayCloudRacketAPIreviewsPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTreviewsB21B601B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacreateReviewF42E387B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/reviews
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..reviews
  APIGatewayCloudRacketAPIreviewsPOST76E9DE74:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdacreateReviewF42E387B
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIreviews3E385556
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/POST/Resource
  APIGatewayCloudRacketAPIreviewsGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETreviews317E4BD6:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetReviews70BBFC01
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/reviews
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..reviews
  APIGatewayCloudRacketAPIreviewsGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETreviews11B88D02:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetReviews70BBFC01
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/reviews
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..reviews
  APIGatewayCloudRacketAPIreviewsGETB97394D2:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: NONE
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetReviews70BBFC01
                  - Arn
              - /invocations
      RequestParameters:
        method.request.querystring.courtId: false
        method.request.querystring.userId: false
      ResourceId:
        Ref: APIGatewayCloudRacketAPIreviews3E385556
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/reviews/GET/Resource
  APIGatewayCloudRacketAPIrecommendations890A0497:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      PathPart: recommendations
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/Resource
  APIGatewayCloudRacketAPIrecommendationsOPTIONS16285CD7:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIrecommendations890A0497
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/OPTIONS/Resource
  APIGatewayCloudRacketAPIrecommendationsGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETrecommendationsCCDD5BBB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetRecommendations2EEE58C6
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/recommendations
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..recommendations
  APIGatewayCloudRacketAPIrecommendationsGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETrecommendations5A16F0F8:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetRecommendations2EEE58C6
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/recommendations
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..recommendations
  APIGatewayCloudRacketAPIrecommendationsGET61DB925A:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetRecommendations2EEE58C6
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIrecommendations890A0497
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/GET/Resource
  APIGatewayCloudRacketAPIrecommendationstrack5A0FDAED:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIrecommendations890A0497
      PathPart: track
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/track/Resource
  APIGatewayCloudRacketAPIrecommendationstrackOPTIONSDC498B8A:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIrecommendationstrack5A0FDAED
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/track/OPTIONS/Resource
  APIGatewayCloudRacketAPIrecommendationstrackPOSTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTrecommendationstrack8FA75466:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdatrackInteraction26D68647
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /POST/recommendations/track
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/track/POST/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..recommendations.track
  APIGatewayCloudRacketAPIrecommendationstrackPOSTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410POSTrecommendationstrack11B45539:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdatrackInteraction26D68647
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/POST/recommendations/track
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/track/POST/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.POST..recommendations.track
  APIGatewayCloudRacketAPIrecommendationstrackPOST209B34CF:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: POST
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdatrackInteraction26D68647
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIrecommendationstrack5A0FDAED
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/recommendations/track/POST/Resource
  APIGatewayCloudRacketAPIdashboardE6E54BE5:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      PathPart: dashboard
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/Resource
  APIGatewayCloudRacketAPIdashboardOPTIONS252710C4:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIdashboardE6E54BE5
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/OPTIONS/Resource
  APIGatewayCloudRacketAPIdashboardstats0DEB124A:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIdashboardE6E54BE5
      PathPart: stats
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/stats/Resource
  APIGatewayCloudRacketAPIdashboardstatsOPTIONS7F54B93B:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIdashboardstats0DEB124A
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/stats/OPTIONS/Resource
  APIGatewayCloudRacketAPIdashboardstatsGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETdashboardstats3093C449:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetStats86E6C8E0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/dashboard/stats
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/stats/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..dashboard.stats
  APIGatewayCloudRacketAPIdashboardstatsGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETdashboardstatsA7551C8F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetStats86E6C8E0
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/dashboard/stats
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/stats/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..dashboard.stats
  APIGatewayCloudRacketAPIdashboardstatsGET39B6F445:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetStats86E6C8E0
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIdashboardstats0DEB124A
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/stats/GET/Resource
  APIGatewayCloudRacketAPIdashboardrevenueA6B861EC:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIdashboardE6E54BE5
      PathPart: revenue
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/revenue/Resource
  APIGatewayCloudRacketAPIdashboardrevenueOPTIONS457887CE:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIdashboardrevenueA6B861EC
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/revenue/OPTIONS/Resource
  APIGatewayCloudRacketAPIdashboardrevenueGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETdashboardrevenue74DD9AC7:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetRevenue6FF12825
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/dashboard/revenue
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/revenue/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..dashboard.revenue
  APIGatewayCloudRacketAPIdashboardrevenueGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETdashboardrevenueE3E6A6CB:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetRevenue6FF12825
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/dashboard/revenue
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/revenue/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..dashboard.revenue
  APIGatewayCloudRacketAPIdashboardrevenueGET587B0F6C:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetRevenue6FF12825
                  - Arn
              - /invocations
      RequestParameters:
        method.request.querystring.startDate: true
        method.request.querystring.endDate: true
      ResourceId:
        Ref: APIGatewayCloudRacketAPIdashboardrevenueA6B861EC
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/revenue/GET/Resource
  APIGatewayCloudRacketAPIdashboardbookingsBD44BF31:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIdashboardE6E54BE5
      PathPart: bookings
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/bookings/Resource
  APIGatewayCloudRacketAPIdashboardbookingsOPTIONSDA3AD9DE:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIdashboardbookingsBD44BF31
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/bookings/OPTIONS/Resource
  APIGatewayCloudRacketAPIdashboardbookingsGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETdashboardbookingsF895C8F6:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetBookingTrends8E0D2FB3
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/dashboard/bookings
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/bookings/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..dashboard.bookings
  APIGatewayCloudRacketAPIdashboardbookingsGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETdashboardbookingsF98422C1:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdagetBookingTrends8E0D2FB3
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/dashboard/bookings
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/bookings/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..dashboard.bookings
  APIGatewayCloudRacketAPIdashboardbookingsGET418C8FBF:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdagetBookingTrends8E0D2FB3
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIdashboardbookingsBD44BF31
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/dashboard/bookings/GET/Resource
  APIGatewayCloudRacketAPIadmin1195770B:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Fn::GetAtt:
          - APIGatewayCloudRacketAPI1F0391D9
          - RootResourceId
      PathPart: admin
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/Resource
  APIGatewayCloudRacketAPIadminOPTIONS952235FF:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadmin1195770B
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/OPTIONS/Resource
  APIGatewayCloudRacketAPIadminusers5946D244:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIadmin1195770B
      PathPart: users
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/Resource
  APIGatewayCloudRacketAPIadminusersOPTIONS5AD0852E:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminusers5946D244
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/OPTIONS/Resource
  APIGatewayCloudRacketAPIadminusersGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETadminusers4E1A4C0A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdalistUsers30BB4538
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/admin/users
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..admin.users
  APIGatewayCloudRacketAPIadminusersGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETadminusersCAE33005:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdalistUsers30BB4538
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/admin/users
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..admin.users
  APIGatewayCloudRacketAPIadminusersGET38A25333:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdalistUsers30BB4538
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminusers5946D244
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/GET/Resource
  APIGatewayCloudRacketAPIadminusersuserId7E6CD648:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIadminusers5946D244
      PathPart: "{userId}"
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/Resource
  APIGatewayCloudRacketAPIadminusersuserIdOPTIONSA17E3EF7:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminusersuserId7E6CD648
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/OPTIONS/Resource
  APIGatewayCloudRacketAPIadminusersuserIdPUTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTadminusersuserId9FBE561A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdaupdateUser0A499408
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /PUT/admin/users/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/PUT/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..admin.users.{userId}
  APIGatewayCloudRacketAPIadminusersuserIdPUTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTadminusersuserId62F369BA:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdaupdateUser0A499408
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/PUT/admin/users/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/PUT/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..admin.users.{userId}
  APIGatewayCloudRacketAPIadminusersuserIdPUT9A0862EF:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdaupdateUser0A499408
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminusersuserId7E6CD648
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/PUT/Resource
  APIGatewayCloudRacketAPIadminusersuserIdDELETEApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410DELETEadminusersuserIdE9782190:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdadeleteUser4D3921AA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /DELETE/admin/users/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/DELETE/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.DELETE..admin.users.{userId}
  APIGatewayCloudRacketAPIadminusersuserIdDELETEApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410DELETEadminusersuserIdB8EB97D2:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdadeleteUser4D3921AA
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/DELETE/admin/users/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/DELETE/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.DELETE..admin.users.{userId}
  APIGatewayCloudRacketAPIadminusersuserIdDELETEC12CFF18:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: DELETE
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdadeleteUser4D3921AA
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminusersuserId7E6CD648
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/users/{userId}/DELETE/Resource
  APIGatewayCloudRacketAPIadmincourtsC9327391:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIadmin1195770B
      PathPart: courts
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/courts/Resource
  APIGatewayCloudRacketAPIadmincourtsOPTIONS3C513830:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadmincourtsC9327391
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/courts/OPTIONS/Resource
  APIGatewayCloudRacketAPIadmincourtsGETApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETadmincourts8C6DC75A:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdalistAllCourts66F98C2B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /GET/admin/courts
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/courts/GET/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..admin.courts
  APIGatewayCloudRacketAPIadmincourtsGETApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410GETadmincourtsE8D1F78F:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdalistAllCourts66F98C2B
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/GET/admin/courts
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/courts/GET/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.GET..admin.courts
  APIGatewayCloudRacketAPIadmincourtsGET6DDF0161:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: GET
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdalistAllCourts66F98C2B
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadmincourtsC9327391
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/courts/GET/Resource
  APIGatewayCloudRacketAPIadminreviewsDCCDACAF:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIadmin1195770B
      PathPart: reviews
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/reviews/Resource
  APIGatewayCloudRacketAPIadminreviewsOPTIONSB1145A75:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminreviewsDCCDACAF
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/reviews/OPTIONS/Resource
  APIGatewayCloudRacketAPIadminreviewsreviewId48C716F5:
    Type: AWS::ApiGateway::Resource
    Properties:
      ParentId:
        Ref: APIGatewayCloudRacketAPIadminreviewsDCCDACAF
      PathPart: "{reviewId}"
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/reviews/{reviewId}/Resource
  APIGatewayCloudRacketAPIadminreviewsreviewIdOPTIONS3CD16BFC:
    Type: AWS::ApiGateway::Method
    Properties:
      ApiKeyRequired: false
      AuthorizationType: NONE
      HttpMethod: OPTIONS
      Integration:
        IntegrationResponses:
          - ResponseParameters:
              method.response.header.Access-Control-Allow-Headers: "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'"
              method.response.header.Access-Control-Allow-Origin: "'*'"
              method.response.header.Access-Control-Allow-Methods: "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
              method.response.header.Access-Control-Allow-Credentials: "'true'"
            StatusCode: "204"
        RequestTemplates:
          application/json: "{ statusCode: 200 }"
        Type: MOCK
      MethodResponses:
        - ResponseParameters:
            method.response.header.Access-Control-Allow-Headers: true
            method.response.header.Access-Control-Allow-Origin: true
            method.response.header.Access-Control-Allow-Methods: true
            method.response.header.Access-Control-Allow-Credentials: true
          StatusCode: "204"
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminreviewsreviewId48C716F5
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/reviews/{reviewId}/OPTIONS/Resource
  APIGatewayCloudRacketAPIadminreviewsreviewIdPUTApiPermissionCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTadminreviewsreviewId8AA390DC:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdamoderateReview4EA814BD
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
            - /PUT/admin/reviews/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/reviews/{reviewId}/PUT/ApiPermission.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..admin.reviews.{reviewId}
  APIGatewayCloudRacketAPIadminreviewsreviewIdPUTApiPermissionTestCloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410PUTadminreviewsreviewIdE900118C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdamoderateReview4EA814BD
          - Arn
      Principal: apigateway.amazonaws.com
      SourceArn:
        Fn::Join:
          - ""
          - - "arn:aws:execute-api:ap-southeast-1:556797196698:"
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /test-invoke-stage/PUT/admin/reviews/*
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/reviews/{reviewId}/PUT/ApiPermission.Test.CloudRacketdevServerlessStackAPIGatewayCloudRacketAPI168A3410.PUT..admin.reviews.{reviewId}
  APIGatewayCloudRacketAPIadminreviewsreviewIdPUT8BD89FB6:
    Type: AWS::ApiGateway::Method
    Properties:
      AuthorizationType: COGNITO_USER_POOLS
      AuthorizerId:
        Ref: APIGatewayCognitoAuthorizerE541E2E0
      HttpMethod: PUT
      Integration:
        IntegrationHttpMethod: POST
        Type: AWS_PROXY
        Uri:
          Fn::Join:
            - ""
            - - arn:aws:apigateway:ap-southeast-1:lambda:path/2015-03-31/functions/
              - Fn::GetAtt:
                  - LambdamoderateReview4EA814BD
                  - Arn
              - /invocations
      ResourceId:
        Ref: APIGatewayCloudRacketAPIadminreviewsreviewId48C716F5
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CloudRacketAPI/Default/admin/reviews/{reviewId}/PUT/Resource
  APIGatewayCognitoAuthorizerE541E2E0:
    Type: AWS::ApiGateway::Authorizer
    Properties:
      IdentitySource: method.request.header.Authorization
      Name: CloudRacketdevServerlessStackAPIGatewayCognitoAuthorizerBB677827
      ProviderARNs:
        - Fn::GetAtt:
            - CognitoUserPool279BBD48
            - Arn
      RestApiId:
        Ref: APIGatewayCloudRacketAPI1F0391D9
      Type: COGNITO_USER_POOLS
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/APIGateway/CognitoAuthorizer/Resource
  EventBridgeBookingReminderRuleA67478B0:
    Type: AWS::Events::Rule
    Properties:
      Description: Send booking reminder emails every hour for bookings 24 hours away
      Name: dev-booking-reminder-rule
      ScheduleExpression: rate(1 hour)
      State: ENABLED
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Targets:
        - Arn:
            Fn::GetAtt:
              - LambdabookingReminderFFD341FE
              - Arn
          Id: Target0
          RetryPolicy:
            MaximumEventAgeInSeconds: 3600
            MaximumRetryAttempts: 2
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/EventBridge/BookingReminderRule/Resource
  EventBridgeBookingReminderRuleAllowEventRuleCloudRacketdevServerlessStackLambdabookingReminder52581327DAD492CE:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdabookingReminderFFD341FE
          - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - EventBridgeBookingReminderRuleA67478B0
          - Arn
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/EventBridge/BookingReminderRule/AllowEventRuleCloudRacketdevServerlessStackLambdabookingReminder52581327
  EventBridgeCleanupRule71F43B04:
    Type: AWS::Events::Rule
    Properties:
      Description: Clean up expired bookings and old data weekly on Sunday at 2 AM UTC
      Name: dev-cleanup-rule
      ScheduleExpression: cron(0 2 ? * SUN *)
      State: ENABLED
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Targets:
        - Arn:
            Fn::GetAtt:
              - LambdacleanupBDE07DDF
              - Arn
          Id: Target0
          RetryPolicy:
            MaximumEventAgeInSeconds: 7200
            MaximumRetryAttempts: 2
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/EventBridge/CleanupRule/Resource
  EventBridgeCleanupRuleAllowEventRuleCloudRacketdevServerlessStackLambdacleanupCDBC8DEAFCF59B3B:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdacleanupBDE07DDF
          - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - EventBridgeCleanupRule71F43B04
          - Arn
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/EventBridge/CleanupRule/AllowEventRuleCloudRacketdevServerlessStackLambdacleanupCDBC8DEA
  EventBridgeMonthlyReportRuleBB27ED7C:
    Type: AWS::Events::Rule
    Properties:
      Description: Generate monthly analytics report on the 1st day of each month at 4 AM UTC
      Name: dev-monthly-report-rule
      ScheduleExpression: cron(0 4 1 * ? *)
      State: ENABLED
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Targets:
        - Arn:
            Fn::GetAtt:
              - LambdamonthlyReportB50DF0CE
              - Arn
          Id: Target0
          RetryPolicy:
            MaximumEventAgeInSeconds: 14400
            MaximumRetryAttempts: 2
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/EventBridge/MonthlyReportRule/Resource
  EventBridgeMonthlyReportRuleAllowEventRuleCloudRacketdevServerlessStackLambdamonthlyReport70BC9C5DD852758C:
    Type: AWS::Lambda::Permission
    Properties:
      Action: lambda:InvokeFunction
      FunctionName:
        Fn::GetAtt:
          - LambdamonthlyReportB50DF0CE
          - Arn
      Principal: events.amazonaws.com
      SourceArn:
        Fn::GetAtt:
          - EventBridgeMonthlyReportRuleBB27ED7C
          - Arn
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/EventBridge/MonthlyReportRule/AllowEventRuleCloudRacketdevServerlessStackLambdamonthlyReport70BC9C5D
  MonitoringAlarmTopicAF62D4F1:
    Type: AWS::SNS::Topic
    Properties:
      DisplayName: Cloud Racket Platform Alarms - dev
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      TopicName: dev-cloud-racket-alarms
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/AlarmTopic/Resource
  MonitoringAlarmTopicanhlehoangg2003gmailcom7C52E747:
    Type: AWS::SNS::Subscription
    Properties:
      Endpoint: anhlehoangg2003@gmail.com
      Protocol: email
      TopicArn:
        Ref: MonitoringAlarmTopicAF62D4F1
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/AlarmTopic/anhlehoangg2003@gmail.com/Resource
  MonitoringDashboard0C3675C6:
    Type: AWS::CloudWatch::Dashboard
    Properties:
      DashboardBody:
        Fn::Join:
          - ""
          - - '{"start":"-PT1H","widgets":[{"type":"text","width":24,"height":2,"x":0,"y":0,"properties":{"markdown":"# Cloud Racket Platform - DEV Environment\n\nReal-time monitoring dashboard for API Gateway, Lambda, and DynamoDB metrics."}},{"type":"text","width":24,"height":1,"x":0,"y":2,"properties":{"markdown":"## API Gateway Metrics"}},{"type":"metric","width":8,"height":6,"x":0,"y":3,"properties":{"view":"timeSeries","title":"API Gateway - Request Count","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/ApiGateway","Count","ApiName","dev-cloud-racket-api","Stage","dev",{"label":"Total Requests","stat":"Sum"}]],"yAxis":{}}},{"type":"metric","width":8,"height":6,"x":8,"y":3,"properties":{"view":"timeSeries","title":"API Gateway - Latency","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/ApiGateway","Latency","ApiName","dev-cloud-racket-api","Stage","dev",{"color":"#1f77b4","label":"Average Latency"}],["AWS/ApiGateway","Latency","ApiName","dev-cloud-racket-api","Stage","dev",{"color":"#ff7f0e","label":"P95 Latency","stat":"p95"}],["AWS/ApiGateway","Latency","ApiName","dev-cloud-racket-api","Stage","dev",{"color":"#d62728","label":"P99 Latency","stat":"p99"}]],"yAxis":{}}},{"type":"metric","width":8,"height":6,"x":16,"y":3,"properties":{"view":"timeSeries","title":"API Gateway - Errors","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/ApiGateway","4XXError","ApiName","dev-cloud-racket-api","Stage","dev",{"color":"#ff7f0e","label":"4XX Errors","stat":"Sum"}],["AWS/ApiGateway","5XXError","ApiName","dev-cloud-racket-api","Stage","dev",{"color":"#d62728","label":"5XX Errors","stat":"Sum"}]],"yAxis":{}}},{"type":"text","width":24,"height":1,"x":0,"y":9,"properties":{"markdown":"## Lambda Metrics"}},{"type":"metric","width":8,"height":6,"x":0,"y":10,"properties":{"view":"timeSeries","title":"Lambda - Invocations","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/Lambda","Invocations","FunctionName","'
            - Ref: Lambdaregister21999CBE
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: Lambdalogin6D5CF434
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdarefreshToken4EDF1FC1
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdacreateCourtE33EB326
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdagetCourtE5BD895A
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdaupdateCourt7383893F
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdadeleteCourt5423559F
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdasearchCourtsA26B8708
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdanearbyCourts450C3A7F
            - '",{"stat":"Sum"}],["AWS/Lambda","Invocations","FunctionName","'
            - Ref: LambdauploadCourtImageCD700EED
            - '",{"stat":"Sum"}]],"yAxis":{}}},{"type":"metric","width":8,"height":6,"x":8,"y":10,"properties":{"view":"timeSeries","title":"Lambda - Errors","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/Lambda","Errors","FunctionName","'
            - Ref: Lambdaregister21999CBE
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: Lambdalogin6D5CF434
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdarefreshToken4EDF1FC1
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdacreateCourtE33EB326
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdagetCourtE5BD895A
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdaupdateCourt7383893F
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdadeleteCourt5423559F
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdasearchCourtsA26B8708
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdanearbyCourts450C3A7F
            - '",{"stat":"Sum"}],["AWS/Lambda","Errors","FunctionName","'
            - Ref: LambdauploadCourtImageCD700EED
            - '",{"stat":"Sum"}]],"yAxis":{}}},{"type":"metric","width":8,"height":6,"x":16,"y":10,"properties":{"view":"timeSeries","title":"Lambda - Duration (ms)","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/Lambda","Duration","FunctionName","'
            - Ref: Lambdaregister21999CBE
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: Lambdalogin6D5CF434
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdarefreshToken4EDF1FC1
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdacreateCourtE33EB326
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdagetCourtE5BD895A
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdaupdateCourt7383893F
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdadeleteCourt5423559F
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdasearchCourtsA26B8708
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdanearbyCourts450C3A7F
            - '"],["AWS/Lambda","Duration","FunctionName","'
            - Ref: LambdauploadCourtImageCD700EED
            - '"]],"yAxis":{}}},{"type":"text","width":24,"height":1,"x":0,"y":16,"properties":{"markdown":"## DynamoDB Metrics"}},{"type":"metric","width":8,"height":6,"x":0,"y":17,"properties":{"view":"timeSeries","title":"DynamoDB - Read Capacity Units","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/DynamoDB","ConsumedReadCapacityUnits","TableName","'
            - Ref: DynamoDBCourtsTable294C7023
            - '",{"label":"'
            - Ref: DynamoDBCourtsTable294C7023
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","TableName","'
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - '",{"label":"'
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","TableName","'
            - Ref: DynamoDBBookingsTable506B026C
            - '",{"label":"'
            - Ref: DynamoDBBookingsTable506B026C
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","TableName","'
            - Ref: DynamoDBReviewsTableB9A998F8
            - '",{"label":"'
            - Ref: DynamoDBReviewsTableB9A998F8
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedReadCapacityUnits","TableName","'
            - Ref: DynamoDBInteractionsTable54D7777B
            - '",{"label":"'
            - Ref: DynamoDBInteractionsTable54D7777B
            - '","stat":"Sum"}]],"yAxis":{}}},{"type":"metric","width":8,"height":6,"x":8,"y":17,"properties":{"view":"timeSeries","title":"DynamoDB - Write Capacity Units","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/DynamoDB","ConsumedWriteCapacityUnits","TableName","'
            - Ref: DynamoDBCourtsTable294C7023
            - '",{"label":"'
            - Ref: DynamoDBCourtsTable294C7023
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","TableName","'
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - '",{"label":"'
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","TableName","'
            - Ref: DynamoDBBookingsTable506B026C
            - '",{"label":"'
            - Ref: DynamoDBBookingsTable506B026C
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","TableName","'
            - Ref: DynamoDBReviewsTableB9A998F8
            - '",{"label":"'
            - Ref: DynamoDBReviewsTableB9A998F8
            - '","stat":"Sum"}],["AWS/DynamoDB","ConsumedWriteCapacityUnits","TableName","'
            - Ref: DynamoDBInteractionsTable54D7777B
            - '",{"label":"'
            - Ref: DynamoDBInteractionsTable54D7777B
            - '","stat":"Sum"}]],"yAxis":{}}},{"type":"metric","width":8,"height":6,"x":16,"y":17,"properties":{"view":"timeSeries","title":"DynamoDB - Throttled Requests","region":"'
            - Ref: AWS::Region
            - '","metrics":[["AWS/DynamoDB","ThrottledRequests","TableName","'
            - Ref: DynamoDBCourtsTable294C7023
            - '",{"label":"'
            - Ref: DynamoDBCourtsTable294C7023
            - '","stat":"Sum"}],["AWS/DynamoDB","ThrottledRequests","TableName","'
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - '",{"label":"'
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - '","stat":"Sum"}],["AWS/DynamoDB","ThrottledRequests","TableName","'
            - Ref: DynamoDBBookingsTable506B026C
            - '",{"label":"'
            - Ref: DynamoDBBookingsTable506B026C
            - '","stat":"Sum"}],["AWS/DynamoDB","ThrottledRequests","TableName","'
            - Ref: DynamoDBReviewsTableB9A998F8
            - '",{"label":"'
            - Ref: DynamoDBReviewsTableB9A998F8
            - '","stat":"Sum"}],["AWS/DynamoDB","ThrottledRequests","TableName","'
            - Ref: DynamoDBInteractionsTable54D7777B
            - '",{"label":"'
            - Ref: DynamoDBInteractionsTable54D7777B
            - '","stat":"Sum"}]],"yAxis":{}}}]}'
      DashboardName: dev-cloud-racket-dashboard
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/Dashboard/Resource
  MonitoringAPI5xxErrorAlarm727A4F9D:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription: API Gateway 5xx error rate exceeds 2% in 5 minutes
      AlarmName: dev-api-5xx-errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: ApiName
          Value: dev-cloud-racket-api
        - Name: Stage
          Value: dev
      EvaluationPeriods: 1
      MetricName: 5XXError
      Namespace: AWS/ApiGateway
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 2
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/API5xxErrorAlarm/Resource
  MonitoringAPI4xxErrorAlarm08025AC1:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription: API Gateway 4xx error rate exceeds 10% in 5 minutes
      AlarmName: dev-api-4xx-errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: ApiName
          Value: dev-cloud-racket-api
        - Name: Stage
          Value: dev
      EvaluationPeriods: 1
      MetricName: 4XXError
      Namespace: AWS/ApiGateway
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 10
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/API4xxErrorAlarm/Resource
  MonitoringregisterErrorAlarm81BCD686:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: Lambdaregister21999CBE
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: Lambdaregister21999CBE
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: Lambdaregister21999CBE
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/registerErrorAlarm/Resource
  MonitoringloginErrorAlarm1869F1E7:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: Lambdalogin6D5CF434
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: Lambdalogin6D5CF434
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: Lambdalogin6D5CF434
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/loginErrorAlarm/Resource
  MonitoringrefreshTokenErrorAlarmEFCBBDAF:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdarefreshToken4EDF1FC1
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdarefreshToken4EDF1FC1
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdarefreshToken4EDF1FC1
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/refreshTokenErrorAlarm/Resource
  MonitoringcreateCourtErrorAlarm122530C5:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdacreateCourtE33EB326
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdacreateCourtE33EB326
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdacreateCourtE33EB326
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/createCourtErrorAlarm/Resource
  MonitoringgetCourtErrorAlarm02DC9F8D:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetCourtE5BD895A
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetCourtE5BD895A
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetCourtE5BD895A
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getCourtErrorAlarm/Resource
  MonitoringupdateCourtErrorAlarmF384119A:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdaupdateCourt7383893F
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdaupdateCourt7383893F
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdaupdateCourt7383893F
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/updateCourtErrorAlarm/Resource
  MonitoringdeleteCourtErrorAlarm9435C01F:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdadeleteCourt5423559F
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdadeleteCourt5423559F
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdadeleteCourt5423559F
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/deleteCourtErrorAlarm/Resource
  MonitoringsearchCourtsErrorAlarmF167CE4C:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdasearchCourtsA26B8708
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdasearchCourtsA26B8708
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdasearchCourtsA26B8708
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/searchCourtsErrorAlarm/Resource
  MonitoringnearbyCourtsErrorAlarmE63B0D99:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdanearbyCourts450C3A7F
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdanearbyCourts450C3A7F
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdanearbyCourts450C3A7F
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/nearbyCourtsErrorAlarm/Resource
  MonitoringuploadCourtImageErrorAlarmB8BCAE83:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdauploadCourtImageCD700EED
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdauploadCourtImageCD700EED
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdauploadCourtImageCD700EED
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/uploadCourtImageErrorAlarm/Resource
  MonitoringgetAvailabilityErrorAlarm07754EAB:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetAvailability418DB8CA
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetAvailability418DB8CA
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetAvailability418DB8CA
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getAvailabilityErrorAlarm/Resource
  MonitoringupdateAvailabilityErrorAlarm673E029D:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdaupdateAvailability3D4E3CE0
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdaupdateAvailability3D4E3CE0
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdaupdateAvailability3D4E3CE0
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/updateAvailabilityErrorAlarm/Resource
  MonitoringcreateBookingErrorAlarmF5A78A1D:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdacreateBooking8730EAFC
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdacreateBooking8730EAFC
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdacreateBooking8730EAFC
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/createBookingErrorAlarm/Resource
  MonitoringgetBookingErrorAlarm5B48BB44:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetBooking91897687
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetBooking91897687
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetBooking91897687
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getBookingErrorAlarm/Resource
  MonitoringcancelBookingErrorAlarm2A01E23B:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdacancelBookingB3204B7B
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdacancelBookingB3204B7B
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdacancelBookingB3204B7B
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/cancelBookingErrorAlarm/Resource
  MonitoringlistBookingsErrorAlarmC656E8FE:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdalistBookings77010DE9
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdalistBookings77010DE9
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdalistBookings77010DE9
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/listBookingsErrorAlarm/Resource
  MonitoringbookingConfirmationErrorAlarm97A2E0A5:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdabookingConfirmation9D4B15F9
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdabookingConfirmation9D4B15F9
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdabookingConfirmation9D4B15F9
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/bookingConfirmationErrorAlarm/Resource
  MonitoringcreateReviewErrorAlarm84184A3D:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdacreateReviewF42E387B
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdacreateReviewF42E387B
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdacreateReviewF42E387B
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/createReviewErrorAlarm/Resource
  MonitoringgetReviewsErrorAlarmB992B857:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetReviews70BBFC01
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetReviews70BBFC01
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetReviews70BBFC01
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getReviewsErrorAlarm/Resource
  MonitoringaggregateRatingErrorAlarmF0FC1805:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdaaggregateRating248BF033
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdaaggregateRating248BF033
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdaaggregateRating248BF033
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/aggregateRatingErrorAlarm/Resource
  MonitoringgetRecommendationsErrorAlarm8B9E29D7:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetRecommendations2EEE58C6
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetRecommendations2EEE58C6
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetRecommendations2EEE58C6
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getRecommendationsErrorAlarm/Resource
  MonitoringtrackInteractionErrorAlarmF7240895:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdatrackInteraction26D68647
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdatrackInteraction26D68647
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdatrackInteraction26D68647
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/trackInteractionErrorAlarm/Resource
  MonitoringgetStatsErrorAlarm667281DC:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetStats86E6C8E0
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetStats86E6C8E0
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetStats86E6C8E0
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getStatsErrorAlarm/Resource
  MonitoringgetRevenueErrorAlarm4DE59AF8:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetRevenue6FF12825
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetRevenue6FF12825
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetRevenue6FF12825
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getRevenueErrorAlarm/Resource
  MonitoringgetBookingTrendsErrorAlarm68190A6C:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagetBookingTrends8E0D2FB3
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagetBookingTrends8E0D2FB3
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagetBookingTrends8E0D2FB3
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/getBookingTrendsErrorAlarm/Resource
  MonitoringgenerateReportErrorAlarm0CDBD008:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdagenerateReport11EE2C05
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdagenerateReport11EE2C05
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdagenerateReport11EE2C05
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/generateReportErrorAlarm/Resource
  MonitoringlistUsersErrorAlarm8CD0414B:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdalistUsers30BB4538
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdalistUsers30BB4538
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdalistUsers30BB4538
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/listUsersErrorAlarm/Resource
  MonitoringupdateUserErrorAlarm06D5D661:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdaupdateUser0A499408
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdaupdateUser0A499408
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdaupdateUser0A499408
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/updateUserErrorAlarm/Resource
  MonitoringdeleteUserErrorAlarm1EEF178D:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdadeleteUser4D3921AA
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdadeleteUser4D3921AA
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdadeleteUser4D3921AA
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/deleteUserErrorAlarm/Resource
  MonitoringlistAllCourtsErrorAlarmC8E6F8B5:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdalistAllCourts66F98C2B
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdalistAllCourts66F98C2B
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdalistAllCourts66F98C2B
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/listAllCourtsErrorAlarm/Resource
  MonitoringmoderateReviewErrorAlarm4C9BBF75:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdamoderateReview4EA814BD
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdamoderateReview4EA814BD
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdamoderateReview4EA814BD
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/moderateReviewErrorAlarm/Resource
  MonitoringbookingReminderErrorAlarm60FAFDA6:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdabookingReminderFFD341FE
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdabookingReminderFFD341FE
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdabookingReminderFFD341FE
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/bookingReminderErrorAlarm/Resource
  MonitoringcleanupErrorAlarm0E4CFFBC:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdacleanupBDE07DDF
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdacleanupBDE07DDF
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdacleanupBDE07DDF
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/cleanupErrorAlarm/Resource
  MonitoringretrainingErrorAlarm4ACA1525:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: Lambdaretraining903E08AD
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: Lambdaretraining903E08AD
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: Lambdaretraining903E08AD
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/retrainingErrorAlarm/Resource
  MonitoringmonthlyReportErrorAlarm9B1AD2C0:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "Lambda function "
            - Ref: LambdamonthlyReportB50DF0CE
            - " error rate exceeds 5% in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: LambdamonthlyReportB50DF0CE
            - -errors
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: FunctionName
          Value:
            Ref: LambdamonthlyReportB50DF0CE
      EvaluationPeriods: 1
      MetricName: Errors
      Namespace: AWS/Lambda
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 5
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/monthlyReportErrorAlarm/Resource
  MonitoringcourtsThrottleAlarm312A936C:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "DynamoDB table "
            - Ref: DynamoDBCourtsTable294C7023
            - " throttling exceeds 10 requests in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: DynamoDBCourtsTable294C7023
            - -throttle
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: TableName
          Value:
            Ref: DynamoDBCourtsTable294C7023
      EvaluationPeriods: 1
      MetricName: ThrottledRequests
      Namespace: AWS/DynamoDB
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 10
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/courtsThrottleAlarm/Resource
  MonitoringavailabilityThrottleAlarm7E9CF02C:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "DynamoDB table "
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - " throttling exceeds 10 requests in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: DynamoDBAvailabilityTableAC1BA3AA
            - -throttle
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: TableName
          Value:
            Ref: DynamoDBAvailabilityTableAC1BA3AA
      EvaluationPeriods: 1
      MetricName: ThrottledRequests
      Namespace: AWS/DynamoDB
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 10
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/availabilityThrottleAlarm/Resource
  MonitoringbookingsThrottleAlarm05B216DF:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "DynamoDB table "
            - Ref: DynamoDBBookingsTable506B026C
            - " throttling exceeds 10 requests in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: DynamoDBBookingsTable506B026C
            - -throttle
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: TableName
          Value:
            Ref: DynamoDBBookingsTable506B026C
      EvaluationPeriods: 1
      MetricName: ThrottledRequests
      Namespace: AWS/DynamoDB
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 10
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/bookingsThrottleAlarm/Resource
  MonitoringreviewsThrottleAlarmA155A218:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "DynamoDB table "
            - Ref: DynamoDBReviewsTableB9A998F8
            - " throttling exceeds 10 requests in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: DynamoDBReviewsTableB9A998F8
            - -throttle
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: TableName
          Value:
            Ref: DynamoDBReviewsTableB9A998F8
      EvaluationPeriods: 1
      MetricName: ThrottledRequests
      Namespace: AWS/DynamoDB
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 10
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/reviewsThrottleAlarm/Resource
  MonitoringinteractionsThrottleAlarm89345111:
    Type: AWS::CloudWatch::Alarm
    Properties:
      AlarmActions:
        - Ref: MonitoringAlarmTopicAF62D4F1
      AlarmDescription:
        Fn::Join:
          - ""
          - - "DynamoDB table "
            - Ref: DynamoDBInteractionsTable54D7777B
            - " throttling exceeds 10 requests in 5 minutes"
      AlarmName:
        Fn::Join:
          - ""
          - - dev-
            - Ref: DynamoDBInteractionsTable54D7777B
            - -throttle
      ComparisonOperator: GreaterThanThreshold
      Dimensions:
        - Name: TableName
          Value:
            Ref: DynamoDBInteractionsTable54D7777B
      EvaluationPeriods: 1
      MetricName: ThrottledRequests
      Namespace: AWS/DynamoDB
      Period: 300
      Statistic: Sum
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      Threshold: 10
      TreatMissingData: notBreaching
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/Monitoring/interactionsThrottleAlarm/Resource
  WAFWebACL4715C84F:
    Type: AWS::WAFv2::WebACL
    Properties:
      DefaultAction:
        Allow: {}
      Description: WAF Web ACL for Cloud Racket Platform - dev
      Name: dev-cloud-racket-waf
      Rules:
        - Action:
            Block: {}
          Name: RateLimitRule
          Priority: 1
          Statement:
            RateBasedStatement:
              AggregateKeyType: IP
              Limit: 2000
          VisibilityConfig:
            CloudWatchMetricsEnabled: true
            MetricName: dev-rate-limit-rule
            SampledRequestsEnabled: true
        - Name: AWSManagedRulesCommonRuleSet
          OverrideAction:
            None: {}
          Priority: 2
          Statement:
            ManagedRuleGroupStatement:
              ExcludedRules: []
              Name: AWSManagedRulesCommonRuleSet
              VendorName: AWS
          VisibilityConfig:
            CloudWatchMetricsEnabled: true
            MetricName: dev-aws-common-rules
            SampledRequestsEnabled: true
        - Name: AWSManagedRulesSQLiRuleSet
          OverrideAction:
            None: {}
          Priority: 3
          Statement:
            ManagedRuleGroupStatement:
              ExcludedRules: []
              Name: AWSManagedRulesSQLiRuleSet
              VendorName: AWS
          VisibilityConfig:
            CloudWatchMetricsEnabled: true
            MetricName: dev-aws-sqli-rules
            SampledRequestsEnabled: true
        - Name: AWSManagedRulesKnownBadInputsRuleSet
          OverrideAction:
            None: {}
          Priority: 4
          Statement:
            ManagedRuleGroupStatement:
              ExcludedRules: []
              Name: AWSManagedRulesKnownBadInputsRuleSet
              VendorName: AWS
          VisibilityConfig:
            CloudWatchMetricsEnabled: true
            MetricName: dev-aws-bad-inputs-rules
            SampledRequestsEnabled: true
      Scope: REGIONAL
      Tags:
        - Key: Application
          Value: CloudRacketPlatform
        - Key: CostCenter
          Value: cloudracket-dev
      VisibilityConfig:
        CloudWatchMetricsEnabled: true
        MetricName: dev-cloud-racket-waf-metrics
        SampledRequestsEnabled: true
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/WAF/WebACL
  WAFWebACLAssociationF0624B31:
    Type: AWS::WAFv2::WebACLAssociation
    Properties:
      ResourceArn:
        Fn::Join:
          - ""
          - - arn:aws:apigateway:ap-southeast-1::/restapis/
            - Ref: APIGatewayCloudRacketAPI1F0391D9
            - /stages/
            - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
      WebACLArn:
        Fn::GetAtt:
          - WAFWebACL4715C84F
          - Arn
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/WAF/WebACLAssociation
  CDKMetadata:
    Type: AWS::CDK::Metadata
    Properties:
      Analytics: v2:deflate64:H4sIAAAAAAAA/21SXW/bMAz8LX1XtDTdH3DTbRiQYoHTbY8FLTOOGlk0RClZJui/D5Kdj2J94h3Plsg7LeTi4V7O7+DIM9XuZ0Y3Mm48qL2AI7/G9mShp7aR8QUag2K5tQUkwQ8yPga1R5+bExrLmoxWp2t74iN5BMYkFHVWe5LxJ6NbE5n89QWfwdJotP5W+r/zzVEYkmC1wzYYdDIut3YzsSKKm0YSGnoZaxp3KfU67oiSMKTAa7Iy9wwo/G5b/CMM9E0LMq7ghO4XOtZk82/v+NdglZ+EC/5yQOs3FJzCZxgGbbssf9xdo+s157Oyya/AjJ5llYsw1LGMK+pq9GjL0SvqLluecRIw6A48HuEkY43sq0GXfa+wUoqC9eIJB0OnfnL1hm08dMWkEdTIZdKcn3hGv6M2ixM6q9MlEx5DPifFVfA7cvovujLAhSWB2QmWsQ5TLiUqtizjCw1alXdXwCY0rJwezhbf8iSUodAewaudjE/Au4bAlTGvpDLg+nJ/BkkcYXtYlEfzG5tquRIXVDGT0uUhpHSzYWBP/ccLv5PWjg66RVccK/llJ6eUfwQ/BJ+EpRblG386LOby/rOc372x1jMXrNc9ynqs/wC4oVkspgMAAA==
    Metadata:
      aws:cdk:path: CloudRacket-dev-Serverless-Stack/CDKMetadata/Default
Outputs:
  APIGatewayCloudRacketAPIEndpointB508A582:
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: APIGatewayCloudRacketAPI1F0391D9
          - .execute-api.ap-southeast-1.
          - Ref: AWS::URLSuffix
          - /
          - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
          - /
  MonitoringDashboardUrlDB84D4CA:
    Description: CloudWatch Dashboard URL
    Value: https://console.aws.amazon.com/cloudwatch/home?region=ap-southeast-1#dashboards:name=dev-cloud-racket-dashboard
    Export:
      Name: dev-dashboard-url
  MonitoringAlarmTopicArn78A8E021:
    Description: SNS Topic ARN for alarm notifications
    Value:
      Ref: MonitoringAlarmTopicAF62D4F1
    Export:
      Name: dev-alarm-topic-arn
  WAFWebAclArnB5D5BB8F:
    Description: WAF Web ACL ARN
    Value:
      Fn::GetAtt:
        - WAFWebACL4715C84F
        - Arn
    Export:
      Name: dev-waf-web-acl-arn
  WAFWebAclIdA6834427:
    Description: WAF Web ACL ID
    Value:
      Fn::GetAtt:
        - WAFWebACL4715C84F
        - Id
    Export:
      Name: dev-waf-web-acl-id
  ApiGatewayUrl:
    Description: API Gateway URL for frontend integration
    Value:
      Fn::Join:
        - ""
        - - https://
          - Ref: APIGatewayCloudRacketAPI1F0391D9
          - .execute-api.ap-southeast-1.
          - Ref: AWS::URLSuffix
          - /
          - Ref: APIGatewayCloudRacketAPIDeploymentStagedev6E1550B9
          - /
    Export:
      Name: dev-api-gateway-url
  ApiGatewayId:
    Description: API Gateway REST API ID
    Value:
      Ref: APIGatewayCloudRacketAPI1F0391D9
    Export:
      Name: dev-api-gateway-id
  CognitoUserPoolId:
    Description: Cognito User Pool ID for authentication
    Value:
      Ref: CognitoUserPool279BBD48
    Export:
      Name: dev-cognito-user-pool-id
  CognitoAppClientId:
    Description: Cognito App Client ID for authentication
    Value:
      Ref: CognitoUserPoolAppClient4B964922
    Export:
      Name: dev-cognito-app-client-id
  ImagesBucketName:
    Description: S3 bucket name for court images
    Value:
      Ref: S3ImagesBucket871BE768
    Export:
      Name: dev-images-bucket-name
  ReportsBucketName:
    Description: S3 bucket name for reports
    Value:
      Ref: S3ReportsBucketEF7875E4
    Export:
      Name: dev-reports-bucket-name
  CloudWatchDashboardUrl:
    Description: CloudWatch Dashboard URL for monitoring
    Value: https://console.aws.amazon.com/cloudwatch/home?region=ap-southeast-1#dashboards:name=dev-cloud-racket-dashboard
    Export:
      Name: dev-cloudwatch-dashboard-url
  StackName:
    Description: CloudFormation stack name
    Value: CloudRacket-dev-Serverless-Stack
    Export:
      Name: dev-stack-name
  CourtsTableName:
    Description: DynamoDB Courts table name
    Value:
      Ref: DynamoDBCourtsTable294C7023
    Export:
      Name: dev-courts-table-name
  BookingsTableName:
    Description: DynamoDB Bookings table name
    Value:
      Ref: DynamoDBBookingsTable506B026C
    Export:
      Name: dev-bookings-table-name
  PlaceIndexName:
    Description: Amazon Location Service Place Index name
    Value: dev-cloud-racket-places
    Export:
      Name: dev-place-index-name
Parameters:
  BootstrapVersion:
    Type: AWS::SSM::Parameter::Value<String>
    Default: /cdk-bootstrap/hnb659fds/version
    Description: Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]

